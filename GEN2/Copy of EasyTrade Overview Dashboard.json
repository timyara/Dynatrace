{"version":14,"variables":[],"tiles":{"4":{"type":"data","title":"Top Trade Volume by Account ID","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\" or event.type == \"com.easytrade.quick-buy\" or event.type == \"com.easytrade.long-sell\" or event.type == \"com.easytrade.quick-sell\"\n| filter isNotNull(amount)\n| summarize Total = count(), by:{accountId = toString(accountId)}\n| fieldsAdd accountId = replaceString(accountId, \".0\", \"\")\n| sort Total, direction:\"descending\"\n| limit 10\n","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","categoricalBarChartSettings":{"categoryAxis":"accountId","categoryAxisLabel":"accountId","valueAxis":"Total","valueAxisLabel":"Total","layout":"horizontal","colorPaletteMode":"multi-color"},"legend":{"hidden":true},"colorPalette":"categorical"},"singleValue":{"showLabel":true,"label":"","autoscale":true,"recordField":"accountId"},"table":{"enableLineWrap":true,"lineWrapIds":[]},"unitsOverrides":[{"identifier":"Total","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":3,"suffix":"","delimiter":false,"added":1700198480357}],"histogram":{"dataMappings":[{"valueAxis":"Total","rangeAxis":""}]},"honeycomb":{"shape":"square","dataMappings":{"category":"accountId","value":"Total"}}},"visualization":"categoricalBarChart"},"5":{"type":"data","title":"","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\" or event.type == \"com.easytrade.quick-buy\"\n| filter isNotNull(amount) \n| summarize BuyTotal = count()","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":true,"label":"Buy","autoscale":false,"recordField":"BuyTotal"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[]},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":""},"histogram":{"dataMappings":[{"valueAxis":"BuyTotal","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"visualization":"singleValue"},"6":{"type":"data","title":"","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-sell\" or event.type == \"com.easytrade.quick-sell\"\n| filter isNotNull(amount) \n| summarize SellTotal = count()","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":true,"label":"Sell","autoscale":false,"recordField":"SellTotal"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[]},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":""},"histogram":{"dataMappings":[{"valueAxis":"SellTotal","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"visualization":"singleValue"},"7":{"type":"data","title":"","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\" or event.type == \"com.easytrade.quick-buy\"\n| filter isNotNull(amount)\n| summarize BuyTradeVolume =  sum(amount*price)","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":true,"label":"Buy (Total)","autoscale":true,"recordField":"BuyTradeVolume"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[]},"singleValueSettings":{"autoscale":true,"showLabel":false,"suffix":"$"},"unitsOverrides":[],"histogram":{"dataMappings":[{"valueAxis":"BuyTradeVolume","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"visualization":"singleValue"},"8":{"type":"data","title":"","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-sell\" or event.type == \"com.easytrade.quick-sell\"\n| filter isNotNull(amount) \n| summarize SellTradeVolume =  sum(amount*price)","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":true,"label":"Sell  (Total)","autoscale":true,"recordField":"SellTradeVolume"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[]},"singleValueSettings":{"autoscale":true,"showLabel":false,"suffix":"$"},"histogram":{"dataMappings":[{"valueAxis":"SellTradeVolume","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"visualization":"singleValue"},"9":{"type":"data","title":"","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\" or event.type == \"com.easytrade.quick-buy\"\n| filter isNotNull(amount)\n| summarize BuyTrades = count(), BuyTradeVolume = sum((amount)*(price))\n| fields BuyTradeAvg = BuyTradeVolume/BuyTrades\n","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":true,"label":"Buy (Avg)","autoscale":true,"recordField":"BuyTradeAvg"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[]},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":"$"},"histogram":{"dataMappings":[{"valueAxis":"BuyTradeAvg","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"visualization":"singleValue"},"10":{"type":"data","title":"","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-sell\" or event.type == \"com.easytrade.quick-sell\"\n| filter isNotNull(amount) \n| summarize SellTrades = count(), SellTradeVolume = sum((amount)*(price))\n| fields SellTradeAvg = SellTradeVolume/SellTrades","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":true,"label":"Sell (Avg)","autoscale":true,"recordField":"SellTradeAvg"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[]},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":"$"},"histogram":{"dataMappings":[{"valueAxis":"SellTradeAvg","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"visualization":"singleValue"},"11":{"type":"data","title":"Trades by TradeType","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\" or event.type == \"com.easytrade.quick-buy\" or event.type == \"com.easytrade.long-sell\" or event.type == \"com.easytrade.quick-sell\"\n| filter isNotNull(amount)\n| parse event.type, \" ('com.easytrade.long-'|'com.easytrade.quick-') STRING:tradeType\"\n| makeTimeseries totalTrades = count(), by:{tradeType} ","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","seriesOverrides":[{"seriesId":"sell","override":{"color":"#b3007d"}}],"leftYAxisSettings":{"scale":"linear","label":""},"legend":{"hidden":false,"position":"bottom"},"valueRepresentation":"absolute","categoricalBarChartSettings":{"categoryAxis":"tradeType","categoryAxisLabel":"tradeType","valueAxis":"interval","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["totalTrades"],"leftAxisDimensions":["tradeType"],"fields":[],"values":[]},"hiddenLegendFields":["totalTrades"]},"singleValue":{"showLabel":true,"label":"","autoscale":true,"recordField":"tradeType"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[]},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":""},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square","dataMappings":{"category":"tradeType","value":"tradeType"}}},"visualization":"barChart"},"12":{"type":"data","title":"Volume by TradeType (Total)","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\" or event.type == \"com.easytrade.quick-buy\" or event.type == \"com.easytrade.long-sell\" or event.type == \"com.easytrade.quick-sell\"\n| filter isNotNull(amount)\n| parse event.type, \" ('com.easytrade.long-'|'com.easytrade.quick-') STRING:tradeType\"\n| fieldsAdd totalTradeAmount = (amount*price)\n| makeTimeseries TradeVolume = Sum(totalTradeAmount), by:{tradeType} ","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","seriesOverrides":[{"seriesId":"sell","override":{"color":"#b3007d"}}],"legend":{"hidden":false,"position":"bottom"},"leftYAxisSettings":{"label":"","min":0},"categoricalBarChartSettings":{"categoryAxis":"tradeType","categoryAxisLabel":"tradeType","valueAxis":"interval","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["TradeVolume"],"leftAxisDimensions":["tradeType"],"fields":[],"values":[]},"hiddenLegendFields":["TradeVolume"]},"singleValue":{"showLabel":true,"label":"","autoscale":true,"recordField":"tradeType"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[["buy"]]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":true,"showLabel":false,"suffix":"$$$"},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square","dataMappings":{"category":"tradeType","value":"tradeType"}}},"visualization":"barChart"},"13":{"type":"data","title":"Volume by TradeType  (Avg)","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\" or event.type == \"com.easytrade.quick-buy\" or event.type == \"com.easytrade.long-sell\" or event.type == \"com.easytrade.quick-sell\"\n| filter isNotNull(amount)\n| parse event.type, \" ('com.easytrade.long-'|'com.easytrade.quick-') STRING:tradeType\"\n| fieldsAdd totalTradeAmount = (amount*price)\n| makeTimeseries TradeVolumeAvg = avg(totalTradeAmount), by:{tradeType} ","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","seriesOverrides":[{"seriesId":"buy","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-01-default, #4646d2)","Hover":"var(--dt-colors-charts-categorical-color-01-hover, #3838a8)","Active":"var(--dt-colors-charts-categorical-color-01-active, #2a2a7e)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-01-default-transparent, #1b1bc9cc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-01-hover-transparent, #090995cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-01-active-transparent, #000060cc)"}}},{"seriesId":"sell","override":{"color":"#b3007d"}}],"legend":{"hidden":false,"position":"bottom"},"categoricalBarChartSettings":{"categoryAxis":"tradeType","categoryAxisLabel":"tradeType","valueAxis":"interval","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["TradeVolumeAvg"],"leftAxisDimensions":["tradeType"],"fields":[],"values":[]},"hiddenLegendFields":["TradeVolumeAvg"]},"singleValue":{"showLabel":true,"label":"","autoscale":true,"recordField":"tradeType"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[["buy"]]},"tableSettings":{"displayMode":"edit","lineWrapIds":[]},"singleValueSettings":{"autoscale":true,"showLabel":false,"suffix":"$$$"},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square","dataMappings":{"category":"tradeType","value":"tradeType"}}},"visualization":"barChart"},"21":{"type":"data","title":"Latency (Avg)","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\" or event.type == \"com.easytrade.long-sell\"\n| filter isNotNull(duration)\n| parse event.type, \"'com.easytrade.long-' STRING:tradeType\"\n| makeTimeseries ResponseTimeAvg = avg(duration), by:{tradeType}","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","legend":{"hidden":false,"position":"bottom"},"seriesOverrides":[{"seriesId":"buy","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-01-default, #4646d2)","Hover":"var(--dt-colors-charts-categorical-color-01-hover, #3838a8)","Active":"var(--dt-colors-charts-categorical-color-01-active, #2a2a7e)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-01-default-transparent, #1b1bc9cc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-01-hover-transparent, #090995cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-01-active-transparent, #000060cc)"}}},{"seriesId":"sell","override":{"color":{"Default":"var(--dt-colors-charts-categorical-themed-fireplace-color-06-default, #b3007d)","Hover":"var(--dt-colors-charts-categorical-themed-fireplace-color-06-hover, #8f0064)","Active":"var(--dt-colors-charts-categorical-themed-fireplace-color-06-active, #6b004b)","DefaultTransparent":"var(--dt-colors-charts-categorical-themed-fireplace-color-06-default-transparent, #880056cc)","HoverTransparent":"var(--dt-colors-charts-categorical-themed-fireplace-color-06-hover-transparent, #3c0026cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-themed-fireplace-color-06-active-transparent, #000c)"}}}],"leftYAxisSettings":{"min":"auto","max":"auto"},"categoricalBarChartSettings":{"categoryAxis":"tradeType","categoryAxisLabel":"tradeType","valueAxis":"interval","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["ResponseTimeAvg"],"leftAxisDimensions":["tradeType"],"fields":[],"values":[]},"hiddenLegendFields":["ResponseTimeAvg"]},"singleValue":{"showLabel":true,"label":"","autoscale":true,"recordField":"tradeType"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":""},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square","dataMappings":{"category":"tradeType","value":"tradeType"}}},"visualization":"lineChart"},"22":{"type":"data","title":"","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\"\n| filter isNotNull(duration)\n| summarize BuyLatencyAvg = round(avg(duration),decimals:2)\n//| fields Status = concat((BuyLatencyAvg),\" ms \")\n","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","legend":{"hidden":false,"position":"bottom"},"seriesOverrides":[{"seriesId":"sell","override":{"color":"#b3007d"}},{"seriesId":"buy","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-01-default, #4646d2)","Hover":"var(--dt-colors-charts-categorical-color-01-hover, #3838a8)","Active":"var(--dt-colors-charts-categorical-color-01-active, #2a2a7e)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-01-default-transparent, #1b1bc9cc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-01-hover-transparent, #090995cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-01-active-transparent, #000060cc)"}}}]},"singleValue":{"showLabel":true,"label":"Buy Latency (Avg)","autoscale":true,"recordField":"BuyLatencyAvg"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":"sec"},"unitsOverrides":[{"identifier":"BuyLatencyAvg","unitCategory":"time","baseUnit":"millisecond","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1700194564424}],"histogram":{"dataMappings":[{"valueAxis":"BuyLatencyAvg","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"visualization":"singleValue"},"23":{"type":"data","title":"","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-sell\"\n| filter isNotNull(duration)\n| summarize SellLatencyAvg = round(avg(duration),decimals:2)\n//| fields Status = concat((SellLatencyAvg),\" ms \")","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","legend":{"hidden":false,"position":"bottom"},"seriesOverrides":[{"seriesId":"sell","override":{"color":"#b3007d"}},{"seriesId":"buy","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-01-default, #4646d2)","Hover":"var(--dt-colors-charts-categorical-color-01-hover, #3838a8)","Active":"var(--dt-colors-charts-categorical-color-01-active, #2a2a7e)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-01-default-transparent, #1b1bc9cc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-01-hover-transparent, #090995cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-01-active-transparent, #000060cc)"}}}]},"singleValue":{"showLabel":true,"label":"Sell  Latency (Avg)","autoscale":true,"recordField":"SellLatencyAvg"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":"sec"},"unitsOverrides":[{"identifier":"SellLatencyAvg","unitCategory":"time","baseUnit":"millisecond","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1700194602561}],"histogram":{"dataMappings":[{"valueAxis":"SellLatencyAvg","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"visualization":"singleValue"},"24":{"type":"data","title":"Time from deposit to first Sell","query":"fetch bizevents\n| filter event.provider == \"www.easytrade.com\"\n| sort timestamp, direction:\"descending\"\n| filter event.type == \"com.easytrade.long-sell\" OR event.type == \"com.easytrade.deposit\"\n| fieldsAdd deposit_ts = if(event.type == \"com.easytrade.deposit\", toLong(timestamp))\n| fieldsAdd sell_asset_ts = if(event.type == \"com.easytrade.long-sell\", toLong(timestamp))\n| summarize first_deposit_ts = takeFirst(deposit_ts), first_sell_asset_ts = takeFirst(sell_asset_ts), by:{accountId}\n| fieldsAdd time_from_deposit_to_first_sell = (first_sell_asset_ts - first_deposit_ts)/(1000000000.0)\n| filter time_from_deposit_to_first_sell > 5\n| limit 8\n| fields AccountID = accountId, time_from_deposit_to_first_sell, alias:{Seconds} \n| sort Seconds desc\n\n\n","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":true,"label":"","autoscale":true,"recordField":"AccountID"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[],"rowDensity":"condensed"},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":""},"unitsOverrides":[{"identifier":"AccountID","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1700144938698},{"identifier":"Seconds","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1700144946201}],"histogram":{"dataMappings":[{"valueAxis":"AccountID","rangeAxis":""},{"valueAxis":"Seconds","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"visualization":"table"},"25":{"type":"data","title":"Most recent trades","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter (event.type == \"com.easytrade.long-buy\" OR event.type == \"com.easytrade.long-sell\")\n| filter isNotNull(amount)\n| filterOut isNull(trace_id)\n| parse event.type, \"'com.easytrade.long-' STRING:TradeType\"\n| fieldsAdd sla = if(duration > 23, \"ðŸ”´\", else: \"ðŸŸ¢\")\n| fields {timestamp, alias:Time}, AccountID = accountId, TradeType, Amount = amount, Price = price, TotalVolume = round(amount * price, decimals:2),trace_id\n| sort Time,  direction:\"descending\"\n| limit 10","visualizationSettings":{"thresholds":[{"id":1,"field":"","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"â‰¥","label":""},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"â‰¥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"â‰¥","label":""}]}],"chartSettings":{"gapPolicy":"connect","categoricalBarChartSettings":{"categoryAxis":"TradeType","categoryAxisLabel":"TradeType","valueAxis":"AccountID","valueAxisLabel":"AccountID"},"fieldMapping":{"timestamp":"Time","leftAxisValues":["AccountID"],"leftAxisDimensions":["TradeType"]}},"singleValue":{"showLabel":true,"label":"","autoscale":true,"recordField":"Time"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[],"rowDensity":"condensed"},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"hiddenColumns":[["tradeType"]],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":true,"suffix":""},"unitsOverrides":[{"identifier":"AccountID","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1700144983955},{"identifier":"Amount","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1700144993723},{"identifier":"Price","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1700145003384},{"identifier":"TotalVolume","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1700145011024}],"histogram":{"dataMappings":[{"valueAxis":"AccountID","rangeAxis":""},{"valueAxis":"Amount","rangeAxis":""},{"valueAxis":"Price","rangeAxis":""},{"valueAxis":"TotalVolume","rangeAxis":""}]},"honeycomb":{"shape":"square","dataMappings":{"category":"TradeType","value":"Time"}}},"visualization":"table"},"26":{"type":"data","title":"Top increase in value by Account ID","query":"fetch bizevents\n| filter event.provider == \"www.easytrade.com\"\n| filter event.type == \"com.easytrade.withdraw\" or event.type == \"com.easytrade.deposit\"\n| fieldsAdd amount_withdrawal = if(event.type==\"com.easytrade.withdraw\", toDouble(amount), else:0.0)\n| fieldsAdd amount_deposit = if(event.type==\"com.easytrade.deposit\", toDouble(amount), else:0.0)\n| summarize {total_withdrawals = sum(amount_withdrawal), total_deposits = sum(amount_deposit)}, by:{accountId}\n| fieldsAdd BalanceChange = round(total_deposits - total_withdrawals,decimals:2)\n| filter BalanceChange > 0.0\n| fields AccountID = accountId, BalanceChange\n| sort BalanceChange, direction:\"descending\"\n| limit 8","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":true,"label":"","autoscale":true,"recordField":"AccountID"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[],"rowDensity":"condensed"},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"hiddenColumns":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":true,"suffix":""},"unitsOverrides":[{"identifier":"AccountID","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1700144913508},{"identifier":"BalanceChange","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1700144923341}],"histogram":{"dataMappings":[{"valueAxis":"AccountID","rangeAxis":""},{"valueAxis":"BalanceChange","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"visualization":"table"},"28":{"type":"data","title":"","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\" \n| filter isNotNull(duration)\n| fieldsAdd sla = if(duration > 23, \"NotMet\", else: \"Met\")\n| summarize slaPercentage=round(toDouble(countIf(sla == \"Met\"))/toDouble(Count()) * 100,decimals:2)\n| fieldsAdd slaStatus = if(slaPercentage <= 95, \"NotMet âŒ \", else:\"Met âœ… \")\n| fields Status = concat((slaPercentage), \"% \", (slaStatus))\n\n","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","legend":{"hidden":true,"position":"auto"},"colorPalette":["apdex"],"categoricalBarChartSettings":{"layout":"vertical","scale":"relative","categoryAxisTickLayout":"vertical"},"circleChartSettings":{"groupingThresholdValue":null,"groupingThresholdType":"relative","groupingName":"slaStatus","hideLabels":true},"valueRepresentation":"relative","seriesOverrides":[{"seriesId":"NotMet_slaStatus","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #d50b34)","Hover":"var(--dt-colors-charts-categorical-color-12-hover, #b30024)","Active":"var(--dt-colors-charts-categorical-color-12-active, #7e071d)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-12-default-transparent, #c5000ccc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-12-hover-transparent, #83000fcc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-12-active-transparent, #140000cc)"}}},{"seriesId":"Met_slaStatus","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #0d9c29)","Hover":"var(--dt-colors-charts-categorical-color-09-hover, #0a7b20)","Active":"var(--dt-colors-charts-categorical-color-09-active, #075f19)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-09-default-transparent, #008500cc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-09-hover-transparent, #005905cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-09-active-transparent, #003112cc)"}}}]},"singleValue":{"showLabel":true,"label":"Buy SLA status","autoscale":true,"recordField":"Status"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":"","recordField":"slaStatus"},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square","dataMappings":{"category":"Status","value":"Status"}}},"visualization":"singleValue"},"30":{"type":"data","title":"Sell SLA status","query":"\nfetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-sell\"\n| filter isNotNull(duration)\n| fieldsAdd sla = if(duration > 23, \"NotMet\", else: \"Met\")\n| makeTimeseries  Met = countIf(sla == \"Met\"), notMet = countIf(sla == \"NotMet\"),interval:5m","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","legend":{"hidden":true,"position":"auto"},"colorPalette":["apdex"],"categoricalBarChartSettings":{"layout":"vertical","scale":"relative","categoryAxisTickLayout":"vertical"},"circleChartSettings":{"groupingThresholdValue":null,"groupingThresholdType":"relative","groupingName":"slaStatus","hideLabels":true},"valueRepresentation":"relative","seriesOverrides":[{"seriesId":["notMet"],"override":{"color":{"Default":"var(--dt-colors-charts-security-risk-level-critical-default, #8a0012)"}}},{"seriesId":["Met"],"override":{"color":"#0EBF0E"}}],"leftYAxisSettings":{"min":0,"max":100},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["Met","notMet"],"leftAxisDimensions":[],"fields":[],"values":[]},"hiddenLegendFields":[]},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":""},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"visualization":"barChart"},"31":{"type":"data","title":"Time to Mouth SLA status","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\"\n| filter isNotNull(duration)\n| fieldsAdd sla = if(duration > 23, \"NotMet\", else: \"Met\")\n| makeTimeseries  Met = countIf(sla == \"Met\"), notMet = countIf(sla == \"NotMet\"), interval:5m","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","legend":{"hidden":true,"position":"auto"},"colorPalette":["apdex"],"categoricalBarChartSettings":{"layout":"vertical","scale":"relative","categoryAxisTickLayout":"vertical"},"circleChartSettings":{"groupingThresholdValue":null,"groupingThresholdType":"relative","groupingName":"slaStatus","hideLabels":true},"valueRepresentation":"relative","seriesOverrides":[{"seriesId":["notMet"],"override":{"color":{"Default":"var(--dt-colors-charts-security-risk-level-critical-default, #8a0012)"}}},{"seriesId":["Met"],"override":{"color":"#0EBF0E"}}],"leftYAxisSettings":{"min":0,"max":100,"scale":"linear"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["Met","notMet"],"leftAxisDimensions":[],"fields":[],"values":[]},"hiddenLegendFields":[]},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":"","recordField":"slaStatus"},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"visualization":"barChart"},"32":{"type":"data","title":"","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-sell\"\n| filter isNotNull(duration)\n| fieldsAdd sla = if(duration > 23, \"NotMet\", else: \"Met\")\n| summarize slaPercentage=round(toDouble(countIf(sla == \"Met\"))/toDouble(Count()) * 100,decimals:2)\n| fieldsAdd slaStatus = if(slaPercentage <= 95, \"NotMet âŒ \", else:\"Met âœ… \")\n| fields Status = concat((slaPercentage), \"% \", (slaStatus))\n","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","legend":{"hidden":true,"position":"auto"},"colorPalette":["apdex"],"categoricalBarChartSettings":{"layout":"vertical","scale":"relative","categoryAxisTickLayout":"vertical"},"circleChartSettings":{"groupingThresholdValue":null,"groupingThresholdType":"relative","groupingName":"slaStatus","hideLabels":true},"valueRepresentation":"relative","seriesOverrides":[{"seriesId":"NotMet_slaStatus","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #d50b34)","Hover":"var(--dt-colors-charts-categorical-color-12-hover, #b30024)","Active":"var(--dt-colors-charts-categorical-color-12-active, #7e071d)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-12-default-transparent, #c5000ccc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-12-hover-transparent, #83000fcc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-12-active-transparent, #140000cc)"}}},{"seriesId":"Met_slaStatus","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #0d9c29)","Hover":"var(--dt-colors-charts-categorical-color-09-hover, #0a7b20)","Active":"var(--dt-colors-charts-categorical-color-09-active, #075f19)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-09-default-transparent, #008500cc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-09-hover-transparent, #005905cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-09-active-transparent, #003112cc)"}}}]},"singleValue":{"showLabel":true,"label":"Sell SLA status","autoscale":true,"recordField":"Status"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":"","recordField":"slaStatus"},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square","dataMappings":{"category":"Status","value":"Status"}}},"visualization":"singleValue"},"33":{"type":"code","title":"Problems","input":"import { problemsClient } from '@dynatrace-sdk/client-classic-environment-v2';\n\nasync function getProblemsList() {\n  const response = await problemsClient.getProblems({\n   from: $dt_timeframe_from, to: $dt_timeframe_to, problemSelector: 'managementZones(\"EasyTrade\")'\n    //from: 'now-1d', problemSelector: \"status(Closed)\"\n    //from: 'now-1d', problemSelector: \"status(Open)\"\n  });\n  const result = await response;\n // console.log(result.problems);\n  return result.problems;\n}\n\nfunction expandArray(array) {\n  if (array.length == 1) {\n    return array[0].name;\n  } else if (array.length > 1) {\n    var retVal = \"\"\n    for (let i=0;i<array.length;i++) {\n      if (i!=0) {\n        retVal = retVal + \", \" + array[i].name;\n      } else {\n        retVal = array[i].name;\n      }\n    }\n    return retVal;\n  }\n  return \"\"; \n}\n\nexport default async function () {\n  const response = await getProblemsList();\n  //console.log(response);\n  const problems=response;\n  const types = [{\n      mappings: {\n        startTime: {type: 'timestamp'},\n        status: {type: 'string'},\n        displayId: {type: 'string'},\n        title: {type: 'string'},\n        impactLevel: {type: 'string'},\n        severityLevel: {type: 'string'},\n        affectedEntities: {type: 'string'},\n        impactedEntities: {type: 'string'},\n        rootCauseEntity: {type: 'string'},\n        duration: {type: 'double'},\n        \"event.id\": {type: 'string'},\n        endTime: {type: 'timestamp'}\n        },\n        indexRange: [\n        0,\n        problems.length\n      ]\n  }]\n  //console.log(types);\n  // Create a new empty data frame for the result\n  const dataFrame = {\n    records: [],\n    types: types\n  }\n  \n  for(let i=0; i<problems.length; i++) {\n      const problem = problems[i];\n      var duration = \"\";\n      if (problem.endTime == null || problem.endTime == \"\" || problem.endTime < 0) {\n        duration = Math.round(((Date.now() - problem.startTime)/1000)/60);\n      } else {\n        duration = Math.round(((problem.endTime-problem.startTime)/1000)/60);\n      }\n      var pstatus = \"\";\n      if (problem.status == 'OPEN') {\n        pstatus = \"ðŸ”´ OPEN\";\n      } else {\n        pstatus = 'ðŸŸ¢ CLOSED';\n      }\n      var affectedEntities = expandArray(problem.affectedEntities);\n      var impactedEntities = expandArray(problem.impactedEntities);\n      var rootCause = \"\";\n      if (problem.rootCauseEntity == null) {\n        rootCause = \"\"\n      } else {\n        rootCause = problem.rootCauseEntity[\"name\"];\n      }\n       const record = {\n              startTime: problem.startTime,\n              status: pstatus,\n              displayId: problem.displayId,\n              title: problem.title,\n              impactLevel: problem.impactLevel,\n              severityLevel: problem.severityLevel,\n              affectedEntities: affectedEntities,\n              impactedEntities: impactedEntities,\n              rootCauseEntity: rootCause,\n              duration: duration,\n              \"event.id\": problem.problemId,\n              endTime: problem.endTime\n            }\n        dataFrame.records.push(record);\n    }\n  //console.log(dataFrame);\n  return dataFrame;\n}","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","categoricalBarChartSettings":{"categoryAxis":"status","categoryAxisLabel":"status","valueAxis":"duration","valueAxisLabel":"duration"},"fieldMapping":{"timestamp":"startTime","leftAxisValues":["duration"],"leftAxisDimensions":["status"]}},"singleValue":{"showLabel":true,"label":"","autoscale":true,"recordField":"startTime"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"hiddenColumns":[["dataPond"],["rollupType"],["tenant"],["recordType"],["impactLevel"],["endTime"]],"firstVisibleRowIndex":0},"histogram":{"dataMappings":[{"valueAxis":"duration","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"visualization":"table"},"34":{"type":"markdown","title":"","content":"## ðŸ“Š Trade Volume"},"35":{"type":"markdown","title":"","content":"## ðŸ’° Trade Dollar Volume"},"36":{"type":"markdown","title":"","content":"## â± Trade Performance"},"37":{"type":"data","title":"Top Trade Dollar Volume by Account ID","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\" or event.type == \"com.easytrade.quick-buy\" or event.type == \"com.easytrade.long-sell\" or event.type == \"com.easytrade.quick-sell\"\n| filter isNotNull(amount)\n| fieldsAdd totalTradeAmount = (toDouble(amount)*toDouble(price))\n| summarize Total = Sum(totalTradeAmount), by:{accountId = toString(accountId)}\n| fieldsAdd accountId = replaceString(accountId, \".0\", \"\")\n| sort Total, direction:\"descending\"\n| limit 10\n","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","categoricalBarChartSettings":{"categoryAxis":"accountId","categoryAxisLabel":"accountId","valueAxis":"Total","valueAxisLabel":"Total","layout":"horizontal"},"legend":{"hidden":true},"colorPalette":"categorical"},"singleValue":{"showLabel":true,"label":"","autoscale":true,"recordField":"accountId"},"table":{"enableLineWrap":true,"lineWrapIds":[]},"histogram":{"dataMappings":[{"valueAxis":"Total","rangeAxis":""}]},"honeycomb":{"shape":"square","dataMappings":{"category":"accountId","value":"Total"}}},"visualization":"categoricalBarChart"}},"layouts":{"4":{"x":0,"y":8,"w":5,"h":6},"5":{"x":0,"y":1,"w":3,"h":2},"6":{"x":3,"y":1,"w":3,"h":2},"7":{"x":6,"y":1,"w":3,"h":2},"8":{"x":9,"y":1,"w":3,"h":2},"9":{"x":12,"y":1,"w":3,"h":2},"10":{"x":15,"y":1,"w":3,"h":2},"11":{"x":0,"y":3,"w":6,"h":5},"12":{"x":6,"y":3,"w":6,"h":5},"13":{"x":12,"y":3,"w":6,"h":5},"21":{"x":18,"y":3,"w":6,"h":5},"22":{"x":18,"y":1,"w":3,"h":2},"23":{"x":21,"y":1,"w":3,"h":2},"24":{"x":14,"y":8,"w":4,"h":6},"25":{"x":0,"y":14,"w":18,"h":4},"26":{"x":10,"y":8,"w":4,"h":6},"28":{"x":18,"y":8,"w":3,"h":2},"30":{"x":18,"y":14,"w":6,"h":4},"31":{"x":18,"y":10,"w":6,"h":4},"32":{"x":21,"y":8,"w":3,"h":2},"33":{"x":0,"y":18,"w":24,"h":3},"34":{"x":0,"y":0,"w":6,"h":1},"35":{"x":6,"y":0,"w":12,"h":1},"36":{"x":18,"y":0,"w":6,"h":1},"37":{"x":5,"y":8,"w":5,"h":6}}}
{"version":15,"variables":[{"key":"SystemOS","type":"query","visible":true,"input":"fetch dt.entity.host\n| fieldsAdd entity.type, lifetime, tags, softwareTechnologies, osType, hypervisorType, state, kubernetesLabels, cpuCores, memoryTotal, boshName, gcpZone, awsNameTag, oneAgentCustomHostName, azureResourceGroupName, dnsNames, ipAddress, osVersion, installerVersion, osArchitecture, bitness, gceInstanceId, boshAvailabilityZone, gceProjectId, boshInstanceId, boshInstanceName, gceInstanceName, gceHostName, boshStemcellVersion, zosSystemName, zosLparName, osServices, paasVendorType, cloudType, networkZone, gceNumericProjectId, azureEnvironment, azureComputeModeName, zosVirtualization, azureSiteNames, zosCPUSerialNumber, cloudPlatformVendorVersion, azureHostNames, gceMachineType, azureVmSizeLabel, monitoringMode, standalone, autoInjection, azureVmScaleSetName, installerSupportAlert, zosCPUModelNumber, azureZone, boshDeploymentId, installerPotentialProblem, logicalCpus, physicalMemory, customHostMetadata, standaloneSpecialAgentsOnly, additionalSystemInfo, logicalCpuCores, zosTotalPhysicalMemory, zosTotalGeneralPurposeProcessors, virtualCpus, gcePublicIpAddresses, isMonitoringCandidate, zosTotalZiipProcessors, installerTrackedDownload, macAddresses, simultaneousMultithreading, paasMemoryLimit, azureSku\n| filter isNotNull(osType)\n| filter isNotNull(cpuCores)\n| fieldsAdd Memory_GB=toDouble(memoryTotal/1073741824)\n| fieldsRemove physicalMemory, memoryTotal\n| fields osType","multiple":true},{"key":"VersionOS","type":"query","visible":true,"input":"fetch dt.entity.host\n| filter in(osType,$SystemOS)\n// | fieldsAdd entity.type, lifetime, tags, softwareTechnologies, osType, hypervisorType, state, kubernetesLabels, cpuCores, memoryTotal, boshName, gcpZone, awsNameTag, oneAgentCustomHostName, azureResourceGroupName, dnsNames, ipAddress, osVersion, installerVersion, osArchitecture, bitness, gceInstanceId, boshAvailabilityZone, gceProjectId, boshInstanceId, boshInstanceName, gceInstanceName, gceHostName, boshStemcellVersion, zosSystemName, zosLparName, osServices, paasVendorType, cloudType, networkZone, gceNumericProjectId, azureEnvironment, azureComputeModeName, zosVirtualization, azureSiteNames, zosCPUSerialNumber, cloudPlatformVendorVersion, azureHostNames, gceMachineType, azureVmSizeLabel, monitoringMode, standalone, autoInjection, azureVmScaleSetName, installerSupportAlert, zosCPUModelNumber, azureZone, boshDeploymentId, installerPotentialProblem, logicalCpus, physicalMemory, customHostMetadata, standaloneSpecialAgentsOnly, additionalSystemInfo, logicalCpuCores, zosTotalPhysicalMemory, zosTotalGeneralPurposeProcessors, virtualCpus, gcePublicIpAddresses, isMonitoringCandidate, zosTotalZiipProcessors, installerTrackedDownload, macAddresses, simultaneousMultithreading, paasMemoryLimit, azureSku\n| filter isNotNull(osType)\n| filter isNotNull(cpuCores)\n| fieldsAdd Memory_GB=toDouble(memoryTotal/1073741824)\n| fieldsRemove physicalMemory, memoryTotal\n| fields osVersion","multiple":true},{"key":"Hostname","type":"query","visible":true,"input":"fetch dt.entity.host\n| filter in(osVersion,$VersionOS)\n| fieldsAdd entity.type, lifetime, tags, softwareTechnologies, osType, hypervisorType, state, kubernetesLabels, cpuCores, memoryTotal, boshName, gcpZone, awsNameTag, oneAgentCustomHostName, azureResourceGroupName, dnsNames, ipAddress, osVersion, installerVersion, osArchitecture, bitness, gceInstanceId, boshAvailabilityZone, gceProjectId, boshInstanceId, boshInstanceName, gceInstanceName, gceHostName, boshStemcellVersion, zosSystemName, zosLparName, osServices, paasVendorType, cloudType, networkZone, gceNumericProjectId, azureEnvironment, azureComputeModeName, zosVirtualization, azureSiteNames, zosCPUSerialNumber, cloudPlatformVendorVersion, azureHostNames, gceMachineType, azureVmSizeLabel, monitoringMode, standalone, autoInjection, azureVmScaleSetName, installerSupportAlert, zosCPUModelNumber, azureZone, boshDeploymentId, installerPotentialProblem, logicalCpus, physicalMemory, customHostMetadata, standaloneSpecialAgentsOnly, additionalSystemInfo, logicalCpuCores, zosTotalPhysicalMemory, zosTotalGeneralPurposeProcessors, virtualCpus, gcePublicIpAddresses, isMonitoringCandidate, zosTotalZiipProcessors, installerTrackedDownload, macAddresses, simultaneousMultithreading, paasMemoryLimit, azureSku\n| fieldsRename Hostname=entity.name\n| fields Hostname","multiple":true}],"tiles":{"10":{"type":"data","title":"CPU usage over time","query":"timeseries cpu=avg(dt.host.cpu.usage), by:{dt.entity.host}\n| sort arrayAvg(cpu), direction:\"descending\"\n| fieldsAdd entityName(dt.entity.host)\n| limit 20\n","davis":{"enabled":false},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"dt.entity.host.name","categoryAxisLabel":"dt.entity.host.name","valueAxis":"interval","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["cpu"],"leftAxisDimensions":["dt.entity.host","dt.entity.host.name"]},"hiddenLegendFields":["dt.entity.host"]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"dt.entity.host"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"square","legend":"auto","dataMappings":{"category":"dt.entity.host","value":"dt.entity.host.name"}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"17":{"type":"data","title":"Hosts reaching resource saturation (CPU, Memory or Disk)","query":"timeseries t_mem=avg(dt.host.memory.avail.percent),t_disk=avg(dt.host.disk.free),t_cpu=avg(dt.host.cpu.usage), interval: 5m,by:{host.name}\n| lookup [\nfetch dt.entity.host\n| fieldsAdd cloudType = coalesce(replaceString(coalesce(belongs_to[dt.entity.vmware_datacenter],cloudType),\"EC2\",\"AWS\"),\"UNKNOWN\")\n| fieldsAdd cloudType = coalesce(replaceString(cloudType,belongs_to[dt.entity.vmware_datacenter],\"VMWare\"),cloudType)\n], sourceField:host.name, lookupField:entity.name, prefix:\"host.\"\n\n| fieldsAdd avg_cpu=arrayAvg(t_cpu)\n| fieldsAdd avg_mem=arrayAvg(t_mem)\n| fieldsAdd avg_disk=arrayAvg(t_disk)\n\n| fieldsRemove t_mem,t_disk,t_cpu, interval, timeframe\n\n| fieldsAdd if(avg_cpu > 69, \"ðŸ”´\", else: \"ðŸŸ¢\"), alias: CPU_warning\n\n| fieldsAdd if(avg_mem > 69, \"ðŸ”´\", else: \"ðŸŸ¢\"), alias: Mem_warning\n\n| fieldsAdd if(avg_disk < 21, \"ðŸ”´\", else: \"ðŸŸ¢\"), alias: Disk_warning\n\n| filter Mem_warning == \"ðŸ”´\" or Disk_warning == \"ðŸ”´\" or CPU_warning == \"ðŸ”´\"\n\n| filter isNotNull(host.entity.name)\n\n| sort avg_cpu desc\n\n| fieldsRename dt.entity.host = host.id","davis":{"enabled":false},"visualization":"table","visualizationSettings":{"thresholds":[{"id":1,"field":"CPU_warning","title":"CPU","isEnabled":true,"rules":[{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"=","label":"","value":"WARNING"}]},{"id":2,"field":"Mem_warning","title":"MEMORY","isEnabled":true,"rules":[{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"=","label":"","value":"WARNING"}]},{"id":3,"field":"Disk_warning","title":"DISK","isEnabled":true,"rules":[{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"=","label":"","value":"WARNING"}]},{"id":4,"field":"avg_cpu","title":"AVG CPU","isEnabled":true,"rules":[{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"â‰¥","label":"","value":60}]},{"id":5,"field":"avg_mem","title":"AVG MEMORY","isEnabled":true,"rules":[{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"â‰¥","label":"","value":60}]},{"id":6,"field":"avg_disk","title":"AVG DISK","isEnabled":true,"rules":[{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"â‰¤","label":"","value":40}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"host.entity.name","categoryAxisLabel":"host.entity.name","valueAxis":"avg_cpu","valueAxisLabel":"avg_cpu"},"hiddenLegendFields":["host"]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"host.entity.name"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["dt.entity.host"]],"lineWrapIds":[],"columnWidths":{"[\"host.entity.name\"]":222.00000000000003,"[\"host.id\"]":185,"[\"avg_cpu\"]":109,"[\"avg_mem\"]":112,"[\"avg_disk\"]":105,"[\"CPU_warning\"]":134,"[\"Mem_warning\"]":140,"[\"Disk_warning\"]":135},"colorThresholdTarget":"background"},"honeycomb":{"shape":"square","dataMappings":{"category":"host.entity.name","value":"dt.entity.host"},"legend":"auto"},"histogram":{"dataMappings":[{"valueAxis":"avg_cpu","rangeAxis":""},{"valueAxis":"avg_mem","rangeAxis":""},{"valueAxis":"avg_disk","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"19":{"type":"data","title":"Top 20 host by memory usage","query":"timeseries usage = avg(dt.host.memory.usage), by: { dt.entity.host }\n| fieldsAdd usage = arrayAvg(usage)\n| sort usage desc\n| fieldsAdd entityName(dt.entity.host)\n| limit 20\n| fields dt.entity.host.name,dt.entity.host ,usage","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"usage","rules":[{"id":"0","label":"","comparator":"â‰¤","color":"#7dc540","value":30},{"id":"1","label":"","comparator":"â‰¤","color":"#f5d30f","value":75},{"id":"2","label":"","comparator":"â‰¤","color":"#dc172a","value":120}],"isEnabled":true}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"dt.entity.host.name","categoryAxisLabel":"dt.entity.host.name","valueAxis":"usage","valueAxisLabel":"usage"},"hiddenLegendFields":[]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"dt.entity.host","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"hiddenColumns":[["A:dt.entity.host.name"],["timeframe"],["interval"],["dt.entity.host"]],"colorThresholdTarget":"value","enableSparklines":false,"lineWrapIds":[["usage"],["dt.entity.host.name"]],"columnWidths":{"[\"dt.entity.host.name\"]":265.3500061035156}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"category":"dt.entity.host.name","value":"usage"}},"histogram":{"dataMappings":[{"valueAxis":"usage","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"21":{"type":"data","title":"Memory usage over time","query":"timeseries usage = avg(dt.host.memory.usage), by: { dt.entity.host }\n| sort arrayAvg(usage) desc\n| fieldsAdd entityName(dt.entity.host)\n| limit 20","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"usage","rules":[{"id":"0","label":"","comparator":"â‰¤","color":"#7dc540","value":30},{"id":"1","label":"","comparator":"â‰¤","color":"#f5d30f","value":75},{"id":"2","label":"","comparator":"â‰¤","color":"#dc172a","value":120}],"isEnabled":true}],"chartSettings":{"seriesOverrides":[],"gapPolicy":"gap","legend":{"hidden":false},"leftYAxisSettings":{"label":""},"categoricalBarChartSettings":{"categoryAxis":"dt.entity.host.name","categoryAxisLabel":"dt.entity.host.name","valueAxis":"interval","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["usage"],"leftAxisDimensions":["dt.entity.host","dt.entity.host.name"]},"hiddenLegendFields":["dt.entity.host"]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"dt.entity.host","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"category":"dt.entity.host","value":"dt.entity.host.name"}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"22":{"type":"data","title":"Top 20 hosts by CPU usage","query":"timeseries usage = avg(dt.host.cpu.usage), by: { dt.entity.host }\n| fieldsAdd usage = arrayAvg(usage)\n| sort usage desc\n| fieldsAdd entityName(dt.entity.host)\n| fields dt.entity.host.name,dt.entity.host ,usage\n| limit 20","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"usage","rules":[{"id":"0","label":"","comparator":"â‰¤","color":"#7dc540","value":30},{"id":"1","label":"","comparator":"â‰¤","color":"#f5d30f","value":75},{"id":"2","label":"","comparator":"â‰¤","color":"#dc172a","value":120}],"isEnabled":true}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"dt.entity.host.name","categoryAxisLabel":"dt.entity.host.name","valueAxis":"usage","valueAxisLabel":"usage"},"hiddenLegendFields":[]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"dt.entity.host","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"hiddenColumns":[["A:dt.entity.host.name"],["timeframe"],["interval"],["dt.entity.host"]],"colorThresholdTarget":"value","enableSparklines":false,"lineWrapIds":[["usage"],["dt.entity.host.name"]],"columnWidths":{"[\"dt.entity.host.name\"]":265.3500061035156}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"category":"dt.entity.host.name","value":"dt.entity.host"}},"histogram":{"dataMappings":[{"valueAxis":"usage","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"23":{"type":"data","title":"Disks by host","query":"timeseries percent = avg(dt.host.disk.used.percent), by: { dt.entity.disk, dt.entity.host }\n| fieldsAdd percent = arrayAvg(percent)\n| sort percent desc\n| fieldsAdd entityName(dt.entity.disk), entityName(dt.entity.host)\n| fields dt.entity.host.name, dt.entity.disk.name, percent","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"percent","rules":[{"id":"0","label":"","comparator":"â‰¤","color":"#7dc540","value":0},{"id":"1","label":"","comparator":"â‰¤","color":"#f5d30f","value":80},{"id":"2","label":"","comparator":"â‰¤","color":"#dc172a","value":100}],"isEnabled":true}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"dt.entity.host.name","categoryAxisLabel":"dt.entity.host.name","valueAxis":"percent","valueAxisLabel":"percent"},"hiddenLegendFields":[]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"dt.entity.disk","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["dt.entity.host.name"]],"columnWidths":{"[\"dt.entity.host.name\"]":343.90625}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"category":"dt.entity.host.name","value":"dt.entity.disk.name"}},"histogram":{"dataMappings":[{"valueAxis":"percent","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"25":{"type":"data","title":"Disks by host","query":"timeseries percent = avg(dt.host.disk.used.percent), by: { dt.entity.disk, dt.entity.host }\n| fieldsAdd percent = arrayAvg(percent)\n| sort percent desc\n| fieldsAdd entityName(dt.entity.disk), entityName(dt.entity.host)\n| fields dt.entity.host.name, dt.entity.disk.name, percent\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"categoricalBarChart","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"percent","rules":[{"id":"0","label":"","comparator":"â‰¥","color":"#7dc540","value":0},{"id":"1","label":"","comparator":"â‰¥","color":"#f5d30f","value":60},{"id":"2","label":"","comparator":"â‰¥","color":"#dc172a","value":80}],"isEnabled":true}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"dt.entity.host.name","categoryAxisLabel":"dt.entity.host.name","valueAxis":"percent","valueAxisLabel":"percent","colorPaletteMode":"multi-color","categoryAxisTickLayout":"horizontal","layout":"vertical"},"hiddenLegendFields":[],"legend":{"position":"right","hidden":false}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"dt.entity.disk","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["dt.entity.host.name"]],"columnWidths":{"[\"dt.entity.host.name\"]":343.90625}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"category":"dt.entity.host.name","value":"dt.entity.disk.name"}},"histogram":{"dataMappings":[{"valueAxis":"percent","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"27":{"type":"markdown","title":"","content":"You can filter in the graph by the specific host you want, after that change in the data mapping to dt.entity.disk name to see by disk"},"30":{"type":"data","title":"Network traffic tx/rx by host","query":"timeseries bytes_tx = avg(dt.host.net.nic.bytes_tx), by: { dt.entity.network_interface, dt.entity.host }\n| fieldsAdd expression = bytes_tx[] * 8\n| summarize { tx_bytes = sum(expression[] ) }, by: { dt.entity.host, interval, timeframe }\n| sort arraySum(tx_bytes) desc\n| join [ timeseries bytes_rx = avg(dt.host.net.nic.bytes_rx), by: { dt.entity.network_interface, dt.entity.host }\n       | fieldsAdd expression.1 = bytes_rx[] * 8\n       | summarize { rx_bytes = sum(expression.1[] ) }, by: { dt.entity.host, interval, timeframe } ], on: { dt.entity.host }, fields: { rx_bytes }\n| limit 20\n| fieldsAdd entityName(dt.entity.host)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"expression","rules":[{"id":"0","label":"","comparator":"â‰¥","color":"#7dc540"},{"id":"1","label":"","comparator":"â‰¥","color":"#f5d30f"},{"id":"2","label":"","comparator":"â‰¥","color":"#dc172a"}],"isEnabled":true}],"chartSettings":{"seriesOverrides":[],"gapPolicy":"gap","legend":{"hidden":false},"leftYAxisSettings":{"label":""},"categoricalBarChartSettings":{"categoryAxis":"dt.entity.host.name","categoryAxisLabel":"dt.entity.host.name","valueAxis":"interval","valueAxisLabel":"interval"},"hiddenLegendFields":["dt.entity.host"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["tx_bytes","rx_bytes"],"leftAxisDimensions":["dt.entity.host","dt.entity.host.name"]}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"dt.entity.host","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"category":"dt.entity.host","value":"dt.entity.host.name"}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"unitsOverrides":[{"identifier":"tx_bytes","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1719260214606},{"identifier":"rx_bytes","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1719260222256}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"31":{"type":"data","title":"Network traffic tx/rx by host","query":"timeseries bytes_tx = avg(dt.host.net.nic.bytes_tx), by: { dt.entity.network_interface, dt.entity.host }\n| fieldsAdd expression = bytes_tx[] * 8\n| summarize { tx_bytes = sum(expression[] ) }, by: { dt.entity.host, interval, timeframe }\n| sort arraySum(tx_bytes) desc\n| join [ timeseries bytes_rx = avg(dt.host.net.nic.bytes_rx), by: { dt.entity.network_interface, dt.entity.host }\n       | fieldsAdd expression.1 = bytes_rx[] * 8\n       | summarize { rx_bytes = sum(expression.1[] ) }, by: { dt.entity.host, interval, timeframe } ], on: { dt.entity.host }, fields: { rx_bytes }\n| fieldsAdd avg_tx= arrayAvg(tx_bytes), avg_rx=arrayAvg(rx_bytes)\n| limit 20\n| fieldsAdd entityName(dt.entity.host)\n| fields dt.entity.host.name, avg_rx, avg_tx\n| sort avg_rx desc, avg_tx desc","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"expression","rules":[{"id":"0","label":"","comparator":"â‰¥","color":"#7dc540"},{"id":"1","label":"","comparator":"â‰¥","color":"#f5d30f"},{"id":"2","label":"","comparator":"â‰¥","color":"#dc172a"}],"isEnabled":true}],"chartSettings":{"seriesOverrides":[],"gapPolicy":"gap","legend":{"hidden":false},"leftYAxisSettings":{"label":""},"categoricalBarChartSettings":{"categoryAxis":"dt.entity.host.name","categoryAxisLabel":"dt.entity.host.name","valueAxis":"avg_rx","valueAxisLabel":"avg_rx"},"hiddenLegendFields":["dt.entity.host"]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"dt.entity.host","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["dt.entity.host.name"]],"columnWidths":{"[\"dt.entity.host.name\"]":534.5625}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"category":"dt.entity.host.name","value":"avg_rx"}},"histogram":{"dataMappings":[{"valueAxis":"avg_rx","rangeAxis":""},{"valueAxis":"avg_tx","rangeAxis":""}]},"unitsOverrides":[{"identifier":"avg_rx","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1719260139400},{"identifier":"avg_tx","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1719260154569}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"32":{"type":"data","title":"NUMBER OF HOSTS","query":"fetch dt.entity.host\n| fieldsAdd isMonitoringCandidate\n| filterOut isMonitoringCandidate == true\n| summarize count(), alias: hosts","davis":{"enabled":false},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"hosts"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"square"},"histogram":{"dataMappings":[{"valueAxis":"hosts","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"33":{"type":"data","title":"HOSTS WITH PROBLEMS","query":"fetch events, scanLimitGBytes:-1\n| filter dt.system.bucket == \"default_davis_events\"\n| filter event.kind == \"DAVIS_PROBLEM\"\n| filter in(affected_entity_types, \"dt.entity.host\")\n| filterOut event.status == \"CLOSED\"\n| filter isNull(dt.davis.is_duplicate) OR not(dt.davis.is_duplicate)\n| expand affected_entity_ids\n| summarize by:{affected_entity_ids}, count = countDistinct(display_id)\n| fieldsRemove affected_entity_ids\n| summarize hosts = count()","davis":{"enabled":false},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"â‰¥","label":""},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"â‰¥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":">","label":"","value":0}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"hosts"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"square"},"histogram":{"dataMappings":[{"valueAxis":"hosts","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"34":{"type":"data","title":"HOST AVAILABILITY","query":"timeseries m1=sum(dt.host.availability),filter:\navailability.state == \"up\"\n, by:{availability.state,dt.entity.host}\n| parse replaceString(toString(m1),\"null\",\"0\"), \"\"\"'['ARRAY{ DOUBLE:i ', '}{1,10000}:m1Pop\"\"\"\n| fieldsAdd availability= arraySum(m1Pop)/(arraySize(m1Pop)*(toDouble(interval)/6000000000))*1000\n| fieldsRemove timeframe\n| fieldsRemove interval\n| fieldsRemove availability.state\n| fieldsRemove dt.entity.host\n| summarize avg(availability)","davis":{"enabled":false},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"â‰¥","label":"","value":95},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"â‰¥","label":"","value":80},{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"â‰¤","label":"","value":80}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"availability.state","categoryAxisLabel":"availability.state","valueAxis":"availability","valueAxisLabel":"availability"}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"avg(availability)"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"square"},"unitsOverrides":[{"identifier":"avg(availability)","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":2,"suffix":" %","delimiter":false,"added":1701249707791}],"histogram":{"dataMappings":[{"valueAxis":"avg(availability)","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"35":{"type":"data","title":"","query":"data record(a=\"Infraestructure Overview\" )","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"a","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-01-default, #134fc9)"},"comparator":"!=","label":"","value":"0"}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"InfrastructureObservabilitySignetIcon","recordField":"a","autoscale":true,"alignment":"center","colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"category":"a","value":"a"}},"histogram":{"dataMappings":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"36":{"type":"data","title":"","query":"data record(a=\"Memory Usage\" )","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"a","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-11-default, #627cfe)"},"comparator":"!=","label":"","value":"0"}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":false,"label":"","recordField":"a","autoscale":true,"alignment":"center","colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"category":"a","value":"a"}},"histogram":{"dataMappings":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"37":{"type":"data","title":"","query":"data record(a=\"CPU Usage\" )","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"a","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-11-default, #627cfe)"},"comparator":"!=","label":"","value":"0"}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":false,"label":"","recordField":"a","autoscale":true,"alignment":"center","colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"category":"a","value":"a"}},"histogram":{"dataMappings":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"38":{"type":"data","title":"","query":"data record(a=\"Network Usage\" )","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"a","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-11-default, #627cfe)"},"comparator":"!=","label":"","value":"0"}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":false,"label":"","recordField":"a","autoscale":true,"alignment":"center","colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"category":"a","value":"a"}},"histogram":{"dataMappings":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"39":{"type":"data","title":"","query":"data record(a=\"Disks Usage\" )","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"a","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-11-default, #627cfe)"},"comparator":"!=","label":"","value":"0"}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":false,"label":"","recordField":"a","autoscale":true,"alignment":"center","colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"category":"a","value":"a"}},"histogram":{"dataMappings":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"40":{"type":"data","title":"","query":"data record(a=\"Hosts with Saturated Resources\" )","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"a","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-01-default, #134fc9)"},"comparator":"!=","label":"","value":"0"}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"InfrastructureObservabilitySignetIcon","recordField":"a","autoscale":true,"alignment":"center","colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"category":"a","value":"a"}},"histogram":{"dataMappings":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"41":{"type":"data","title":"","query":"fetch dt.entity.host\n| fieldsAdd entity.type, lifetime, tags, softwareTechnologies, osType, hypervisorType, state, kubernetesLabels, cpuCores, memoryTotal, boshName, gcpZone, awsNameTag, oneAgentCustomHostName, azureResourceGroupName, dnsNames, ipAddress, osVersion, installerVersion, osArchitecture, bitness, gceInstanceId, boshAvailabilityZone, gceProjectId, boshInstanceId, boshInstanceName, gceInstanceName, gceHostName, boshStemcellVersion, zosSystemName, zosLparName, osServices, paasVendorType, cloudType, networkZone, gceNumericProjectId, azureEnvironment, azureComputeModeName, zosVirtualization, azureSiteNames, zosCPUSerialNumber, cloudPlatformVendorVersion, azureHostNames, gceMachineType, azureVmSizeLabel, monitoringMode, standalone, autoInjection, azureVmScaleSetName, installerSupportAlert, zosCPUModelNumber, azureZone, boshDeploymentId, installerPotentialProblem, logicalCpus, physicalMemory, customHostMetadata, standaloneSpecialAgentsOnly, additionalSystemInfo, logicalCpuCores, zosTotalPhysicalMemory, zosTotalGeneralPurposeProcessors, virtualCpus, gcePublicIpAddresses, isMonitoringCandidate, zosTotalZiipProcessors, installerTrackedDownload, macAddresses, simultaneousMultithreading, paasMemoryLimit, azureSku\n| fieldsRename Hostname=entity.name\n| filter isNotNull(osType)\n| filter isNotNull(cpuCores)\n| fieldsAdd Memory_GB=toDouble(memoryTotal/1073741824)\n| fieldsRemove physicalMemory, memoryTotal\n| filter in(osType, $SystemOS)\n| filter in(osVersion, $VersionOS)\n| filter in (Hostname, $Hostname)\n| fieldsAdd monitoringMode\n| fields Hostname, osVersion, cpuCores, Memory_GB, ipAddress, osType, hypervisorType, osArchitecture, monitoringMode\n//| limit 50","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"Hostname","categoryAxisLabel":"Hostname","valueAxis":"cpuCores","valueAxisLabel":"cpuCores"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"Hostname","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"category":"Hostname","value":"osVersion"}},"histogram":{"dataMappings":[{"valueAxis":"cpuCores","rangeAxis":""},{"valueAxis":"Memory_GB","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}}},"layouts":{"10":{"x":10,"y":22,"w":14,"h":7},"17":{"x":0,"y":7,"w":18,"h":7},"19":{"x":14,"y":15,"w":10,"h":6},"21":{"x":0,"y":15,"w":14,"h":6},"22":{"x":0,"y":22,"w":10,"h":7},"23":{"x":14,"y":31,"w":10,"h":7},"25":{"x":0,"y":31,"w":14,"h":7},"27":{"x":0,"y":30,"w":24,"h":1},"30":{"x":10,"y":39,"w":14,"h":7},"31":{"x":0,"y":39,"w":10,"h":7},"32":{"x":18,"y":7,"w":3,"h":4},"33":{"x":21,"y":7,"w":3,"h":4},"34":{"x":18,"y":11,"w":6,"h":3},"35":{"x":0,"y":0,"w":24,"h":1},"36":{"x":0,"y":14,"w":24,"h":1},"37":{"x":0,"y":21,"w":24,"h":1},"38":{"x":0,"y":38,"w":24,"h":1},"39":{"x":0,"y":29,"w":24,"h":1},"40":{"x":0,"y":6,"w":24,"h":1},"41":{"x":0,"y":1,"w":24,"h":5}},"importedWithCode":false}
{"version":12,"variables":[{"key":"Tags","type":"query","input":"fetch `dt.entity.snmp:com_dynatrace_extension_snmp_generic_device`\n| fields tags\n| summarize tags = collectDistinct(tags)","multiple":true}],"tiles":{"0":{"type":"data","title":"PaloAlto firewalls","query":"timeseries t_cpu=avg(`com.dynatrace.extension.palo-alto.generic.cpu.management.utilization`), t_upt=avg(`com.dynatrace.extension.palo-alto.generic.sys.uptime`), by: {`dt.entity.palo-alto:device`}\n| lookup [fetch `dt.entity.palo-alto:device` | fields id, SystemName, lifetime[end]],\n    sourceField:`dt.entity.palo-alto:device`,\n    lookupField:id,\n    fields:{ SystemName,`lifetime[end]` }\n| fieldsAdd avg_cpu=toLong(arrayAvg(`t_cpu`)), avg_upt=arrayAvg(`t_upt`)\n| lookup [ timeseries t_in=avg(`com.dynatrace.extension.palo-alto.generic.if.hc.in.octets`), t_out=avg( `com.dynatrace.extension.palo-alto.generic.if.hc.out.octets`), by:{ `dt.entity.palo-alto:device`,`dt.entity.palo-alto:interface)`} | summarize sum_out = sum(toDouble(t_out)), sum_in = sum(toDouble(t_in)), by: {`dt.entity.palo-alto:device`}],\n    sourceField:`dt.entity.palo-alto:device`,\n      lookupField:`dt.entity.palo-alto:device`,\n    fields:{sum_out, sum_in }\n  | lookup sourceField:`dt.entity.palo-alto:device`, lookupField: affected_id, fields: {problems},\n [fetch events\n| filter event.kind == \"DAVIS_PROBLEM\" | fieldsAdd affected_entity_id = affected_entity_ids[0] | summarize collectDistinct(event.status), by:{display_id, affected_entity_id}, alias:problem_status | filter NOT in(problem_status, \"CLOSED\")| summarize problems = count(), by: {affected_id = affected_entity_id}]\n| fields Device = SystemName,`dt.entity.palo-alto:device`, lifetime=toString(`lifetime[end]`), problem_count = if(isNull(problems), 0, else: problems), avg_upt, SystemName, sum_in, sum_out, avg_cpu\n| fieldsRename `Problems #` = problem_count\n| fieldsRemove   `dt.entity.palo-alto:device`\n| fieldsAdd DurSys = toDuration(avg_upt)*1000000\n| fieldsRemove avg_upt\n| filter SystemName != \"DUMSYS-10\"\n| fieldsAdd  `OutTraffic` = sum_out, `InTraffic` = sum_in\n| fieldsRename `DNS name` = SystemName, `System Up Time` = DurSys ,`CPU (%)` = avg_cpu, `Last seen` = lifetime\n| fieldsAdd `Monitoring status` =  if( `Last seen`  <  now() - 10m, \"⚠️\",else:\"✅\")\n| fields `DNS name`,  `Monitoring status`, `System Up Time` , `Problems #`,`CPU (%)`, `OutTraffic`, `InTraffic`\n| sort `Problems #` desc","visualizationSettings":{"thresholds":[{"id":1,"field":"Problems #","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"=","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"≥","label":"","value":1}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"DNS name","categoryAxisLabel":"DNS name","valueAxis":"CPU (%)","valueAxisLabel":"CPU (%)"}},"singleValue":{"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"columnWidths":{},"lineWrapIds":[],"enableLineWrap":true},"unitsOverrides":[{"identifier":"t_cpu","unitCategory":"unspecified","baseUnit":"count","displayUnit":null,"decimals":2,"suffix":"","delimiter":true},{"identifier":"t_cpu","unitCategory":"unspecified","baseUnit":"unspecified","displayUnit":null,"decimals":2,"suffix":"","delimiter":true},{"identifier":"OutTraffic GB","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1705512956105},{"identifier":"InTraffic GB","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1705512970730},{"identifier":"CPU (%)","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1705561889835},{"identifier":"System Up Time","unitCategory":"time","baseUnit":"nanosecond","displayUnit":null,"decimals":3,"suffix":"","delimiter":false,"added":1706542963338},{"identifier":"OutTraffic","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1706542999793},{"identifier":"InTraffic","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1706543234394}]},"visualization":"table"},"6":{"type":"data","title":"Cisco switches and routers","query":"timeseries t_cpu=avg(`com.dynatrace.extension.snmp-generic-cisco-device.cpm.cpu.loadavg.5min`), t_mem=avg(`com.dynatrace.extension.snmp-generic-cisco-device.cpm.cpu.memory.hc.free`),  t_upt=avg(`com.dynatrace.extension.snmp-generic-cisco-device.sys.uptime`), \nby: {`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`}\n| lookup [fetch `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device` | fields id, entity.name, system_name, lifetime[end],entity.type ],\n    sourceField:`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`,\n    lookupField:id,\n    fields:{entity.name,system_name,`lifetime[end]`, entity.type  }\n| fieldsAdd avg_cpu=arrayAvg(`t_cpu`), avg_mem=arrayAvg(`t_mem`), avg_upt=arrayAvg(`t_upt`)\n| lookup [ timeseries t_in=avg(`com.dynatrace.extension.snmp-generic-cisco-device.if.hc.in.octets.count`), t_out=avg(`com.dynatrace.extension.snmp-generic-cisco-device.if.hc.out.octets.count`), by:{ `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`,`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`}\n| summarize   sum_out = sum(toDouble(t_out)),sum_in = sum(toDouble(t_in)), by: {`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`}],\n    sourceField:`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`,\n      lookupField:`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`,\n    fields:{sum_out, sum_in }  \n| lookup sourceField:`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`, lookupField: affected_id, fields: {problems},\n [fetch events\n| filter event.kind == \"DAVIS_PROBLEM\" | fieldsAdd affected_entity_id = affected_entity_ids[0] | summarize collectDistinct(event.status), by:{display_id, affected_entity_id}, alias:problem_status | filter NOT in(problem_status, \"CLOSED\")| summarize problems = count(), by: {affected_id = affected_entity_id}]\n| fields Device = system_name, `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`, name=entity.name, type=entity.type, lifetime=toString(`lifetime[end]`), problem_count = if(isNull(problems), 0, else: problems), avg_upt, system_name, sum_in, sum_out, avg_mem, avg_cpu\n| fieldsRename `Problems #` = problem_count\n| fieldsAdd DurSys = toDuration(avg_upt)*1000000\n| fieldsRemove avg_upt\n| fieldsAdd  `OutTraffic` = sum_out, `InTraffic` = sum_in\n| fieldsRename `DNS name`=system_name, `System Up Time` = DurSys , `CPU (%)` = avg_cpu, `Free Memory (KB)` = avg_mem\n| fieldsAdd `Monitoring status` =  if( lifetime <  now() -10m, \"⚠️\",else:\"✅\")\n| fieldsAdd `Device type` = replaceString(type, \"snmp:com_dynatrace_extension_\", \"\")\n| fields `DNS name`,  `Monitoring status`, `System Up Time` ,  `Problems #`, `CPU (%)`, `Free Memory (KB)`, `OutTraffic`, `InTraffic`\n| filter `DNS name` != \"AT1i-SW-snmptest.dynatrace.org\"\n| sort `Problems #` desc","visualization":"table","visualizationSettings":{"thresholds":[{"id":1,"field":"Problems #","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"=","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":">","label":"","value":0}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"DNS name","categoryAxisLabel":"DNS name","valueAxis":"CPU (%)","valueAxisLabel":"CPU (%)"}},"singleValue":{"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableLineWrap":true,"enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"DNS name\"]":224,"[\"Monitoring status\"]":174,"[\"System Up Time\"]":152,"[\"Device type\"]":186.56666564941406,"[\"Problems #\"]":122,"[\"CPU (%)\"]":98,"[\"Free Memory (KB)\"]":163,"[\"OutTraffic GB\"]":134,"[\"InTraffic GB\"]":223}},"unitsOverrides":[{"identifier":"t_cpu","unitCategory":"unspecified","baseUnit":"count","displayUnit":null,"decimals":2,"suffix":"","delimiter":true},{"identifier":"t_upt","unitCategory":"unspecified","baseUnit":"unspecified","displayUnit":null,"decimals":2,"suffix":"","delimiter":true},{"identifier":"InTraffic GB","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1705513072192},{"identifier":"Free Memory (KB)","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1705513467364},{"identifier":"CPU (%)","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1705513604834},{"identifier":"OutTraffic","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1706543172748},{"identifier":"InTraffic","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1706543192234}]}},"7":{"type":"markdown","title":"","content":"#\n# **Network Devices Performance**\n"},"8":{"type":"data","title":"Interfaces in Up/Down state","query":"fetch `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`\n| fieldsAdd description,type,  opStatus, adminStatus\n| lookup [fetch  `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`| fields id, system_name],\n    sourceField:child_of[`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`] ,\n    lookupField:id,\n    prefix: \"rtr_\"\n| fieldsRemove rtr_id, id, entity.name\n| fieldsRename  `DNS name` = rtr_system_name,Interface=description\n| fields `DNS name`, Interface, opStatus, adminStatus\n| filter opStatus == \"down(2)\" AND adminStatus == \"up(1)\"\n| append [fetch `dt.entity.f5:interface`\n| fieldsAdd Name, Status,EnabledState\n| lookup [fetch  `dt.entity.f5:instance`| fields id, NodeName],\n    sourceField:runs_on[`dt.entity.f5:instance`],\n    lookupField:id,\n    prefix: \"rtr_\"\n| fieldsRemove rtr_id, id, entity.name\n| fieldsRename  `DNS name` = rtr_NodeName,Interface=Name,opStatus=Status,adminStatus=EnabledState\n| fields `DNS name`, Interface, opStatus, adminStatus\n| filter opStatus == \"down(1)\" AND adminStatus == \"true(1)\"]","visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"},"categoryOverrides":{}},"singleValue":{"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableLineWrap":true,"enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["entity.name"]],"columnWidths":{}}}},"18":{"type":"data","title":"Top interfaces Inbound load","query":"timeseries t_ino=avg( `com.dynatrace.extension.snmp-generic-cisco-device.if.hc.in.octets.count`),  t_speed=avg(`com.dynatrace.extension.snmp-generic-cisco-device.if.highspeed`), by: {`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`},interval:1m\n| lookup [fetch`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface` | fields id, description , child_of[`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`]],\n    sourceField: `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`,\n    lookupField:id,\n    fields:{  description, `child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device\\`]` }\n| lookup [fetch  `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`| fields id, system_name],\n    sourceField:`child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device\\`]`,\n    lookupField:id,\n    fields:{ system_name }    \n| fieldsRemove   `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`,  `child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device\\`]`\n| fieldsAdd `Interface` = concat( description,\"-\",system_name ), `InLoad`=  8*100*t_ino[]/(power(10, 6)*tolong(t_speed[]))/(interval/1s)\n| fieldsAdd SumLoad = arraySum(`InLoad`)\n| sort SumLoad desc\n| limit 10\n| fieldsRemove description,system_name, t_ino,t_speed,SumLoad","davis":{"enabled":false},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"description","categoryAxisLabel":"description","valueAxis":"InLoad (%)","valueAxisLabel":"InLoad (%)"},"leftYAxisSettings":{"min":0,"max":100,"label":""},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["InLoad"],"leftAxisDimensions":["Interface"],"fields":[],"values":[]}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"unitsOverrides":[{"identifier":"InLoad","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1705060132996}]}},"19":{"type":"data","title":"Top interfaces Outbound load","query":"timeseries t_ouo=avg( `com.dynatrace.extension.snmp-generic-cisco-device.if.hc.out.octets.count`),  t_speed=avg(`com.dynatrace.extension.snmp-generic-cisco-device.if.highspeed`),by: {`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`},rate:1m\n| lookup [fetch`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface` | fields id, description , child_of[`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`]],\n    sourceField: `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`,\n    lookupField:id,\n    fields:{  description, `child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device\\`]` }\n| lookup [fetch  `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`| fields id, system_name],\n    sourceField:`child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device\\`]`,\n    lookupField:id,\n    fields:{ system_name }    \n| fieldsRemove   `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`,  `child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device\\`]`\n| fieldsAdd `Interface` = concat( description,\"-\",system_name ), `OutLoad`= 8*100*t_ouo[]/(power(10, 6)*tolong(t_speed[]))/(interval/1s)\n| fieldsAdd SumLoad = arraySum(`OutLoad`)\n| sort SumLoad desc\n| limit 10\n| fieldsRemove description,system_name, t_ouo,t_speed,SumLoad","davis":{"enabled":false},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"description","categoryAxisLabel":"description","valueAxis":"InLoad (%)","valueAxisLabel":"InLoad (%)"},"leftYAxisSettings":{"min":0,"max":100,"label":""},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["OutLoad"],"leftAxisDimensions":["Interface"],"fields":[],"values":[]}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"unitsOverrides":[{"identifier":"OutLoad (%)","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1705060184157},{"identifier":"OutLoad","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1705747064300}]}},"20":{"type":"data","title":"Top interfaces traffic","query":"timeseries t_ino=avg( `com.dynatrace.extension.snmp-generic-cisco-device.if.hc.in.octets.count`), t_ouo=avg( `com.dynatrace.extension.snmp-generic-cisco-device.if.hc.out.octets.count`),\nby: {`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`}\n| lookup [fetch`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface` | fields id, type, description , child_of[`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`]],\n    sourceField: `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`,\n    lookupField:id,\n    fields:{ type, description, `child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device\\`]` }\n| lookup [fetch  `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`| fields id, system_name],\n    sourceField:`child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device\\`]`,\n    lookupField:id,\n    fields:{ system_name }    \n| fieldsAdd avg_in=arrayAvg(`t_ino`),avg_out=arrayAvg(t_ouo)\n| fieldsAdd `In Bytes`= tolong(avg_in), `Out Bytes` = tolong(avg_out)\n| fieldsRename  `DNS name` = system_name,Interface=description\n| fieldsRemove timeframe, t_ino, t_ouo,`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`, interval,  `child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device\\`]`\n| fields `DNS name`, Interface, `In Bytes`, `Out Bytes`\n\n| append [timeseries t_ino=avg( `com.dynatrace.extension.juniper.generic.if.in.bits`),  t_outo=avg( `com.dynatrace.extension.juniper.generic.if.out.bits`),by: { `dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`,`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_network_interface`}\n| lookup [fetch `dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_network_interface`| fields id,entity.name , child_of[`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`]],\n    sourceField: `dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_network_interface`,\n    lookupField:id,\n    fields:{ entity.name, `child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device\\`]` }\n| lookup [fetch  `dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`| fields id, system_name],\n    sourceField:`child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device\\`]`,\n    lookupField:id,\n    fields:{ system_name }    \n| fieldsAdd avg_in=arrayAvg(`t_ino`),avg_out=arrayAvg(t_outo)\n| fieldsAdd `In Bytes`= tolong(avg_in*8), `Out Bytes` = tolong(avg_out*8)\n| fieldsRemove  timeframe, t_ino, t_outo,interval,`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_network_interface`,`child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device\\`]` \n| fieldsRename  `DNS name` = system_name,Interface=entity.name\n| fields `DNS name`, Interface, `In Bytes`, `Out Bytes`]\n\n| append [timeseries t_ino=avg(`com.dynatrace.extension.palo-alto.generic.if.in.octets`, rate:1s), t_out=avg( `com.dynatrace.extension.palo-alto.generic.if.out.octets`, rate:1s), by:{`dt.entity.palo-alto:device`,`dt.entity.palo-alto:interface`}\n| filter isNotNull(`dt.entity.palo-alto:device`)\n| fieldsAdd sum_traffic_in= tolong(arraySum(t_ino)),sum_traffic_out= tolong(arraySum(t_out))\n|  fields `dt.entity.palo-alto:device`,`dt.entity.palo-alto:interface`,sum_traffic_in,sum_traffic_out\n| lookup [fetch `dt.entity.palo-alto:interface`| fields id,InterfaceDescription, runs_on[`dt.entity.palo-alto:device`]] ,\n    sourceField: `dt.entity.palo-alto:interface`,\n    lookupField:id,\n    fields:{  InterfaceDescription, `runs_on[\\`dt.entity.palo-alto:device\\`]` }\n| lookup [fetch  `dt.entity.palo-alto:device`| fields id, SystemName],\n    sourceField:`runs_on[\\`dt.entity.palo-alto:device\\`]`,\n    lookupField:id,\n    fields:{ SystemName } \n| filter SystemName != \"DUMSYS-10\"\n| fieldsAdd `In Bytes`= tolong(sum_traffic_in), `Out Bytes` = tolong(sum_traffic_out)\n| fieldsRemove `runs_on[\\`dt.entity.palo-alto:device\\`]` ,`dt.entity.palo-alto:interface`\n| fieldsRename  `DNS name` = SystemName,Interface=InterfaceDescription\n| fields `DNS name`, Interface, `In Bytes`, `Out Bytes`]\n\n| append [timeseries t_ino=avg( `com.dynatrace.extension.f5.bigip.sys.interface.stat.bytes.in.count`),  t_outo=avg( `com.dynatrace.extension.f5.bigip.sys.interface.stat.bytes.out.count`),by: {`dt.entity.f5:interface`}\n| lookup [fetch `dt.entity.f5:interface`| fields id, Name , runs_on[`dt.entity.f5:instance`]],\n    sourceField:`dt.entity.f5:interface`,\n    lookupField:id,\n    fields:{ Name, `runs_on[\\`dt.entity.f5:instance\\`]` }\n| lookup [fetch  `dt.entity.f5:instance`| fields id, NodeName],\n    sourceField:`runs_on[\\`dt.entity.f5:instance\\`]`,\n    lookupField:id,\n    fields:{ NodeName }    \n| fieldsAdd avg_in=arrayAvg(`t_ino`),avg_out=arrayAvg(t_outo)\n| fieldsAdd `In Bytes`= tolong(avg_in), `Out Bytes` = tolong(avg_out)\n| fieldsRemove  timeframe, t_ino, t_outo,interval,`dt.entity.f5:interface`,`runs_on[\\`dt.entity.f5:instance\\`]` \n| fieldsRename  `DNS name` = NodeName,Interface=Name\n| fields `DNS name`, Interface, `In Bytes`, `Out Bytes`]\n| sort `In Bytes`+ `Out Bytes` desc\n| limit 10\n","visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"type","categoryAxisLabel":"type","valueAxis":"In GBytes","valueAxisLabel":"In GBytes"}},"singleValue":{"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableLineWrap":true,"enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["Out GBytes"]],"columnWidths":{}},"unitsOverrides":[{"identifier":"t_indiscards","unitCategory":"unspecified","baseUnit":"count","displayUnit":null,"decimals":2,"suffix":"","delimiter":true},{"identifier":"t_outdiscards","unitCategory":"unspecified","baseUnit":"count","displayUnit":null,"decimals":2,"suffix":"","delimiter":true},{"identifier":"Out GBytes","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1705059088998},{"identifier":"In Bytes","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1706372359288},{"identifier":"Out Bytes","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1706372384130}]}},"21":{"type":"data","title":"Top interfaces discards and errors","query":"timeseries t_indiscards=avg( `com.dynatrace.extension.snmp-generic-cisco-device.if.in.discards`),t_outdiscards=avg( `com.dynatrace.extension.snmp-generic-cisco-device.if.out.discards`),\n t_inerrors=avg( `com.dynatrace.extension.snmp-generic-cisco-device.if.in.errors`),t_outerrors=avg( `com.dynatrace.extension.snmp-generic-cisco-device.if.out.errors`),\nby: `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`\n| lookup [fetch`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface` | fields id, type, description , child_of[`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`]],\n    sourceField: `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`,\n    lookupField:id,\n    fields:{ type, description, `child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device\\`]` }\n| lookup [fetch  `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`| fields id, system_name],\n    sourceField:`child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device\\`]`,\n    lookupField:id,\n    fields:{ system_name }    \n| fieldsAdd avg_indiscards=arrayAvg(`t_indiscards`),avg_outdiscards=arrayAvg(`t_outdiscards`),avg_inerrors=arrayAvg(`t_inerrors`),avg_outerrors=arrayAvg(`t_outerrors`)\n| fieldsAdd sum_trouble = avg_indiscards + avg_outdiscards + avg_inerrors + avg_outerrors\n| fieldsRemove  type, timeframe, t_indiscards, t_outdiscards,t_inerrors, t_outerrors,`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`, interval,  `child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device\\`]`\n| fieldsRename `DNS name` = system_name,Interface=description\n| fieldsRename InDiscards = avg_indiscards, OutDiscards = avg_outdiscards, InErrors = avg_inerrors, OutErrors = avg_outerrors\n| fields `DNS name`,Interface,InDiscards,OutDiscards,InErrors,OutErrors,sum_trouble\n| append [timeseries t_indiscards=avg( `com.dynatrace.extension.f5.bigip.sys.interface.stat.drops.in.count`),t_outdiscards=avg( `com.dynatrace.extension.f5.bigip.sys.interface.stat.drops.out.count`),\n t_inerrors=avg( `com.dynatrace.extension.f5.bigip.sys.interface.stat.errors.in.count`),t_outerrors=avg( `com.dynatrace.extension.f5.bigip.sys.interface.stat.errors.out.count`),\nby: `dt.entity.f5:interface`\n| lookup [fetch`dt.entity.f5:interface` | fields id, Name , runs_on[`dt.entity.f5:instance`]],\n    sourceField: `dt.entity.f5:interface`,\n    lookupField:id,\n    fields:{  Name, `runs_on[\\`dt.entity.f5:instance\\`]`}\n| lookup [fetch  `dt.entity.f5:instance`| fields id, NodeName],\n    sourceField: `runs_on[\\`dt.entity.f5:instance\\`]`,\n    lookupField:id,\n    fields:{ NodeName }    \n| fieldsAdd avg_indiscards=arrayAvg(`t_indiscards`),avg_outdiscards=arrayAvg(`t_outdiscards`),avg_inerrors=arrayAvg(`t_inerrors`),avg_outerrors=arrayAvg(`t_outerrors`)\n| fieldsAdd sum_trouble = avg_indiscards + avg_outdiscards + avg_inerrors + avg_outerrors\n| fieldsRemove  timeframe, t_indiscards, t_outdiscards,t_inerrors, t_outerrors,`dt.entity.f5:interface`, interval,  `runs_on[\\`dt.entity.f5:instance\\`]`\n| fieldsRename `DNS name` = NodeName,Interface=Name\n| fieldsRename InDiscards = avg_indiscards, OutDiscards = avg_outdiscards, InErrors = avg_inerrors, OutErrors = avg_outerrors\n| fields `DNS name`,Interface,InDiscards,OutDiscards,InErrors,OutErrors,sum_trouble]\n| append [timeseries t_indiscards=avg( `com.dynatrace.extension.juniper.generic.if.in.discards.count`),t_outdiscards=avg( `com.dynatrace.extension.juniper.generic.if.out.discards.count`),\n t_inerrors=avg( `com.dynatrace.extension.juniper.generic.if.in.err.count`),t_outerrors=avg( `com.dynatrace.extension.juniper.generic.if.out.err.count`),\nby: `dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_network_interface`\n| lookup [fetch`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_network_interface` | fields id, if_descr , child_of[`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`]],\n    sourceField: `dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_network_interface`,\n    lookupField:id,\n    fields:{  if_descr, `child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device\\`]`}\n| lookup [fetch  `dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`| fields id, system_name],\n    sourceField: `child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device\\`]`,\n    lookupField:id,\n    fields:{ system_name }    \n| fieldsAdd avg_indiscards=arrayAvg(`t_indiscards`)/(interval/1s),avg_outdiscards=arrayAvg(`t_outdiscards`)/(interval/1s),avg_inerrors=arrayAvg(`t_inerrors`)/(interval/1s),avg_outerrors=arrayAvg(`t_outerrors`)/(interval/1s)\n| fieldsAdd sum_trouble = avg_indiscards + avg_outdiscards + avg_inerrors + avg_outerrors\n| fieldsRemove  timeframe, t_indiscards, t_outdiscards,t_inerrors, t_outerrors,`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_network_interface`, interval,  `child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device\\`]`\n| fieldsRename `DNS name` = system_name,Interface=if_descr\n| fieldsRename InDiscards = avg_indiscards, OutDiscards = avg_outdiscards, InErrors = avg_inerrors, OutErrors = avg_outerrors\n| fields `DNS name`,Interface,InDiscards,OutDiscards,InErrors,OutErrors,sum_trouble]\n| sort sum_trouble desc\n| fieldsRemove sum_trouble\n| limit 10\n\n","visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"description","categoryAxisLabel":"description","valueAxis":"InDiscards","valueAxisLabel":"InDiscards"}},"singleValue":{"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableLineWrap":true,"enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"unitsOverrides":[{"identifier":"t_indiscards","unitCategory":"unspecified","baseUnit":"count","displayUnit":null,"decimals":2,"suffix":"","delimiter":true},{"identifier":"t_outdiscards","unitCategory":"unspecified","baseUnit":"count","displayUnit":null,"decimals":2,"suffix":"","delimiter":true},{"identifier":"InDiscards","unitCategory":"unspecified","baseUnit":"count_per_second","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1705513769704},{"identifier":"OutDiscards","unitCategory":"unspecified","baseUnit":"count_per_second","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1705513775909},{"identifier":"InErrors","unitCategory":"unspecified","baseUnit":"count_per_second","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1705513783476},{"identifier":"OutErrors","unitCategory":"unspecified","baseUnit":"count_per_second","displayUnit":null,"decimals":3,"suffix":"","delimiter":false,"added":1705513792918}]}},"23":{"type":"data","title":"Top interfaces Inbound traffic","query":"timeseries t_ino=avg( `com.dynatrace.extension.snmp-generic-cisco-device.if.hc.in.octets.count`),\nby: {`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`},interval:1m\n| lookup [fetch`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface` | fields id, type, description , child_of[`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`]],\n    sourceField: `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`,\n    lookupField:id,\n    fields:{ type, description, `child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device\\`]` }\n| lookup [fetch  `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`| fields id, system_name],\n    sourceField:`child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device\\`]`,\n    lookupField:id,\n    fields:{ system_name }    \n| fieldsRemove  type, `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`,  `child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device\\`]`\n| fieldsAdd `Interface` = concat( description,\"-\",system_name ), `InLoad b/s` = t_ino[]*8/(interval/1s)\n| fieldsRemove description,system_name, t_ino\n| append [timeseries t_ino=avg( `com.dynatrace.extension.f5.bigip.sys.interface.stat.bytes.in.count`), by: {`dt.entity.f5:interface`}\n| lookup [fetch `dt.entity.f5:interface`| fields id, Name , runs_on[`dt.entity.f5:instance`]],\n    sourceField:`dt.entity.f5:interface`,\n    lookupField:id,\n    fields:{ Name, `runs_on[\\`dt.entity.f5:instance\\`]` }\n| lookup [fetch  `dt.entity.f5:instance`| fields id, NodeName],\n    sourceField:`runs_on[\\`dt.entity.f5:instance\\`]`,\n    lookupField:id,\n    fields:{ NodeName }    \n| fieldsRemove  `runs_on[\\`dt.entity.f5:instance\\`]`,`dt.entity.f5:interface`\n| fieldsAdd `Interface` = concat( Name,\"-\",NodeName ), `InLoad b/s` = t_ino[]*8/(interval/1s)\n| fieldsRemove Name,NodeName, t_ino]\n| sort `InLoad b/s` desc\n| limit 10\n","davis":{"enabled":false},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"description","categoryAxisLabel":"description","valueAxis":"InLoad (%)","valueAxisLabel":"InLoad (%)"},"leftYAxisSettings":{"min":0,"max":"data-max"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["InLoad b/s"],"leftAxisDimensions":["Interface"],"fields":[],"values":[]}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"unitsOverrides":[{"identifier":"InLoad b/s","unitCategory":"datarate","baseUnit":"bitps","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1705056612480}]}},"24":{"type":"data","title":"Top interfaces Outbound traffic","query":"timeseries t_outo=avg( `com.dynatrace.extension.snmp-generic-cisco-device.if.hc.out.octets.count` ),by: {`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`},interval:1m\n| lookup [fetch`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface` | fields id, description , child_of[`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`]],\n    sourceField: `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`,\n    lookupField:id,\n    fields:{  description, `child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device\\`]` }\n| lookup [fetch  `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`| fields id, system_name],\n    sourceField:`child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device\\`]`,\n    lookupField:id,\n    fields:{ system_name }    \n| fieldsRemove   `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`,  `child_of[\\`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device\\`]`\n| fieldsAdd `Interface` = concat( description,\"-\",system_name ), `OutLoad` = t_outo[]*8/(interval/1s)\n| fieldsRemove description,system_name, t_outo\n| append [timeseries t_outo=avg(`com.dynatrace.extension.f5.bigip.sys.interface.stat.bytes.out.count`), by: {`dt.entity.f5:interface`},interval:1m\n| lookup [fetch `dt.entity.f5:interface`| fields id, Name , runs_on[`dt.entity.f5:instance`]],\n    sourceField:`dt.entity.f5:interface`,\n    lookupField:id,\n    fields:{ Name, `runs_on[\\`dt.entity.f5:instance\\`]` }\n| lookup [fetch  `dt.entity.f5:instance`| fields id, NodeName],\n    sourceField:`runs_on[\\`dt.entity.f5:instance\\`]`,\n    lookupField:id,\n    fields:{ NodeName }    \n| fieldsRemove  `runs_on[\\`dt.entity.f5:instance\\`]`,`dt.entity.f5:interface`\n| fieldsAdd `Interface` = concat( Name,\"-\",NodeName ), `OutLoad` = t_outo[]*8/(interval/1s)\n| fieldsRemove Name,NodeName, t_outo]\n| sort `OutLoad` desc\n| limit 10\n","davis":{"enabled":false},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"description","categoryAxisLabel":"description","valueAxis":"InLoad (%)","valueAxisLabel":"InLoad (%)"},"leftYAxisSettings":{"min":"data-min"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["OutLoad"],"leftAxisDimensions":["Interface"],"fields":[],"values":[]}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"unitsOverrides":[{"identifier":"Outload b/s","unitCategory":"datarate","baseUnit":"bitps","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1705057252272},{"identifier":"OutLoad","unitCategory":"datarate","baseUnit":"bitps","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1705746183536}]}},"25":{"type":"data","title":" Top devices CPU usage","query":"timeseries t_cpu=avg(`com.dynatrace.extension.snmp-generic-cisco-device.cpm.cpu.loadavg.5min`),\nby: `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`\n| lookup [fetch `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device` | fields id, system_name, lifetime[end] ],\n    sourceField:`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`,\n    lookupField:id,\n    fields:{system_name,`lifetime[end]` }\n| filter system_name != \"AT1i-SW-snmptest.dynatrace.org\"\n| fieldsRename `DNS name`=system_name, `CPU (%)` = t_cpu\n| fieldsRemove  `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`\n\n| append [timeseries  t_cpum=avg(`com.dynatrace.extension.palo-alto.generic.cpu.management.utilization`),  t_cpus=avg(`com.dynatrace.extension.palo-alto.generic.cpu.system.utilization`), by: {`dt.entity.palo-alto:device`}\n| lookup [fetch `dt.entity.palo-alto:device` | fields id, SystemName, lifetime[end]],\n    sourceField:`dt.entity.palo-alto:device`,\n    lookupField:id,\n    fields:{ SystemName,`lifetime[end]` }\n| fieldsadd `CPU (%)` = tolong(100-t_cpum[]-t_cpus[])\n| fieldsRename `DNS name`=SystemName\n| fieldsRemove `dt.entity.palo-alto:device`,t_cpum,t_cpus]\n\n| append [timeseries  t_cpu=avg(`com.dynatrace.extension.juniper.generic.routingengine.cpu.utilization`),\nby: {`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`}\n| lookup [fetch `dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device` | fields id,  system_name, lifetime[end]],\n    sourceField:`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`,\n    lookupField:id,\n    fields:{system_name,`lifetime[end]`}\n| fieldsRename `DNS name`=system_name, `CPU (%)` = t_cpu\n| fieldsRemove `dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`]\n\n| append [timeseries t_cpu=avg(`com.dynatrace.extension.f5.bigip.sys.global.host.cpu.user1m`),\nby: {`dt.entity.f5:instance`}\n| lookup [fetch `dt.entity.f5:instance` | fields id, NodeName, lifetime[end]],\n    sourceField:`dt.entity.f5:instance`,\n    lookupField:id,\n    fields:{NodeName,`lifetime[end]` }\n| fieldsRename `DNS name`=NodeName, `CPU (%)` = t_cpu\n| fieldsRemove  `dt.entity.f5:instance`]\n\n| sort `CPU (%)` desc\n| limit 10","visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device","categoryAxisLabel":"dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device","valueAxis":"CPU (%)","valueAxisLabel":"CPU (%)"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["CPU (%)"],"leftAxisDimensions":["DNS name","lifetime[end]"],"fields":[],"values":[],"rightAxisValues":[],"rightAxisDimensions":[]}},"singleValue":{"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableLineWrap":true,"enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"unitsOverrides":[{"identifier":"t_cpu","unitCategory":"unspecified","baseUnit":"count","displayUnit":null,"decimals":2,"suffix":"","delimiter":true},{"identifier":"t_upt","unitCategory":"unspecified","baseUnit":"unspecified","displayUnit":null,"decimals":2,"suffix":"","delimiter":true},{"identifier":"CPU (%)","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1705059899426}]}},"28":{"type":"markdown","title":"","content":"#\n# **Network interfaces load**\n#"},"29":{"type":"data","title":" Top Cisco routers and switches temperature","query":"timeseries t_temp=avg(`com.dynatrace.extension.snmp-generic-cisco-device.envmon.temperature.status.value`),\nby: { `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`}| lookup [fetch `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device` | fields id, entity.name, system_name, lifetime[end] ],\n    sourceField:`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`,\n    lookupField:id,\n    fields:{entity.name,system_name,`lifetime[end]` }\n| fieldsRename `DNS name`=system_name, `Device Temperature` = t_temp\n| fieldsRemove entity.name, `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`, `lifetime[end]`\n| sort `Device Temperature` desc\n| limit 10","visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device","categoryAxisLabel":"dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device","valueAxis":"CPU (%)","valueAxisLabel":"CPU (%)"},"leftYAxisSettings":{"min":0,"max":105},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["Device Temperature"],"leftAxisDimensions":["DNS name"],"fields":[],"values":[]}},"singleValue":{"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableLineWrap":true,"enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"unitsOverrides":[{"identifier":"t_cpu","unitCategory":"unspecified","baseUnit":"count","displayUnit":null,"decimals":2,"suffix":"","delimiter":true},{"identifier":"t_upt","unitCategory":"unspecified","baseUnit":"unspecified","displayUnit":null,"decimals":2,"suffix":"","delimiter":true},{"identifier":"Device Temperature","unitCategory":"temperature","baseUnit":"degree_celsius","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1705056141609}]}},"32":{"type":"data","title":"F5 BIG-IP load balancers","query":"timeseries t_cpu=avg(`com.dynatrace.extension.f5.bigip.sys.global.host.cpu.user1m`), t_mem=avg(`com.dynatrace.extension.f5.bigip.sys.host.memory.used`),  t_upt=avg(`com.dynatrace.extension.f5.bigip.sys.uptime`), \nby: {`dt.entity.f5:instance`}\n| lookup [fetch `dt.entity.f5:instance` | fields id, entity.name, NodeName, lifetime[end]],\n    sourceField:`dt.entity.f5:instance`,\n    lookupField:id,\n    fields:{entity.name,NodeName,`lifetime[end]`}\n| fieldsAdd avg_cpu=arrayAvg(`t_cpu`), avg_mem=arrayAvg(`t_mem`), avg_upt=arrayAvg(`t_upt`)\n| lookup [ timeseries t_in=avg(`com.dynatrace.extension.f5.bigip.sys.interface.stat.bytes.out.count`), t_out=avg(`com.dynatrace.extension.f5.bigip.sys.interface.stat.bytes.in.count`), by:{ `dt.entity.f5:instance`,`dt.entity.f5:interface`} | summarize   sum_out = sum(toDouble(t_out)),sum_in = sum(toDouble(t_in)), by: {`dt.entity.f5:instance`}],\n    sourceField:`dt.entity.f5:instance`,\n      lookupField:`dt.entity.f5:instance`,\n    fields:{sum_out, sum_in }\n| lookup sourceField:`dt.entity.f5:instance`, lookupField: affected_id, fields: {problems},\n [fetch events\n| filter event.kind == \"DAVIS_PROBLEM\" | fieldsAdd affected_entity_id = affected_entity_ids[0] | summarize collectDistinct(event.status), by:{display_id, affected_entity_id}, alias:problem_status | filter NOT in(problem_status, \"CLOSED\")| summarize problems = count(), by: {affected_id = affected_entity_id}]\n| fields Device = NodeName, `dt.entity.f5:instance`, name=entity.name, lifetime=toString(`lifetime[end]`), problem_count = if(isNull(problems), 0, else: problems), avg_upt, NodeName, sum_in, sum_out, avg_mem, avg_cpu\n| fieldsRename `Problems #` = problem_count\n| fieldsRemove `dt.entity.f5:instance`\n| fieldsAdd DurSys = toDuration(avg_upt)*1000000\n| filter NodeName != \"ip-10-0-11-88.ec2.internal\"\n| fieldsAdd  `OutTraffic` = tolong(sum_out), `InTraffic` = tolong(sum_in)\n| fieldsRename `DNS name`= NodeName, `System Up Time` = DurSys , `CPU (%)` = avg_cpu, `Free Memory` = avg_mem\n| fieldsAdd `Monitoring status` =  if( lifetime <  now() -10m, \"⚠️\",else:\"✅\")\n| fields `DNS name`,  `Monitoring status`, `System Up Time` ,  `Problems #`, `CPU (%)`, `Free Memory`, `OutTraffic`, `InTraffic`\n| sort `Problems #` desc\n","visualization":"table","visualizationSettings":{"thresholds":[{"id":1,"field":"Problems #","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"=","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":">","label":"","value":0}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"DNS name","categoryAxisLabel":"DNS name","valueAxis":"CPU (%)","valueAxisLabel":"CPU (%)"}},"singleValue":{"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableLineWrap":true,"enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"DNS name\"]":185,"[\"Monitoring status\"]":208,"[\"System Up Time\"]":152,"[\"Device type\"]":120.63333129882812,"[\"CPU (%)\"]":98,"[\"Free Memory (KB)\"]":163,"[\"OutTraffic GB\"]":134,"[\"InTraffic GB\"]":124.30000305175781}},"unitsOverrides":[{"identifier":"t_cpu","unitCategory":"unspecified","baseUnit":"count","displayUnit":null,"decimals":2,"suffix":"","delimiter":true},{"identifier":"t_upt","unitCategory":"unspecified","baseUnit":"unspecified","displayUnit":null,"decimals":2,"suffix":"","delimiter":true},{"identifier":"InTraffic GB","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1705513043220},{"identifier":"Free Memory","unitCategory":"data","baseUnit":"kilobyte","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1705513490605},{"identifier":"CPU (%)","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1705513577552},{"identifier":"OutTraffic","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1706543310176},{"identifier":"InTraffic","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1706543324563}]}},"33":{"type":"markdown","title":"","content":"#\n# **Interfaces attention points**\n#"},"35":{"type":"markdown","title":"","content":"#\n# **Inventory**\n#"},"36":{"type":"data","title":"Cisco routers and switches Power  Supply state","query":"\ntimeseries t_ps=avg( `com.dynatrace.extension.snmp-generic-cisco-device.power_supply.state`),\nby: {`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`,ps.label, ps.status}\n| fieldsAdd LastState=arraylast(`t_ps`)\n| lookup [fetch  `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`| fields id, system_name],\n    sourceField:`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`,\n    lookupField:id,\n    fields:{ system_name }    \n| filter system_name != \"AT1i-SW-snmptest.dynatrace.org\"\n| filter LastState == 1 and isNotNull(ps.label)\n| fieldsRename `DNS name` = system_name , `PSU Name` = ps.label\n| fieldsRemove t_ps, timeframe,interval,`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`,LastState\n| fieldsAdd `PSU State`=  if(ps.status   == \"normal(1)\" ,\"🟢\" ,else:\"🔴\" )\n| fields `DNS name`, `PSU Name`, `PSU State`\n| sort `PSU State` asc","davis":{"enabled":false},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device","categoryAxisLabel":"dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device","valueAxis":"interval","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["t_fs"],"leftAxisDimensions":["dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device","envmon.fan.status","DNS name","Fan"],"fields":[],"values":[]}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}}}},"38":{"type":"data","title":"Davis monitored  Network device metrics Health","query":"fetch `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device` \n| lookup sourceField: id, lookupField: affected_id, fields: {problems},\n [fetch events\n| filter event.kind == \"DAVIS_PROBLEM\" | fieldsAdd affected_entity_id = affected_entity_ids[0] | summarize collectDistinct(event.status), by:{display_id, affected_entity_id}, alias:problem_status | filter NOT in(problem_status, \"CLOSED\")| summarize problems = count(), by: {affected_id = affected_entity_id}]\n| fields id, name=entity.name, type=entity.type, lifetime=toString(lifetime), problem_count = if(isNull(problems), 0, else: problems) \n| fieldsRemove id, lifetime, type\n| summarize result = sum(problem_count )\n|append[fetch `dt.entity.f5:instance` \n| lookup sourceField: id, lookupField: affected_id, fields: {problems},\n [fetch events\n| filter event.kind == \"DAVIS_PROBLEM\" | fieldsAdd affected_entity_id = affected_entity_ids[0] | summarize collectDistinct(event.status), by:{display_id, affected_entity_id}, alias:problem_status | filter NOT in(problem_status, \"CLOSED\")| summarize problems = count(), by: {affected_id = affected_entity_id}]\n| fields id, name=entity.name, type=entity.type, lifetime=toString(lifetime), problem_count = if(isNull(problems), 0, else: problems)\n| fieldsRemove id, lifetime, type\n| summarize result = sum(problem_count )]\n|append[fetch `dt.entity.palo-alto:device` \n| lookup sourceField: id, lookupField: affected_id, fields: {problems},\n [fetch events\n| filter event.kind == \"DAVIS_PROBLEM\" | fieldsAdd affected_entity_id = affected_entity_ids[0] | summarize collectDistinct(event.status), by:{display_id, affected_entity_id}, alias:problem_status | filter NOT in(problem_status, \"CLOSED\")| summarize problems = count(), by: {affected_id = affected_entity_id}]\n| fields id, name=entity.name, type=entity.type, lifetime=toString(lifetime), problem_count = if(isNull(problems), 0, else: problems)\n| fieldsRemove id, lifetime, type\n| summarize result = sum(problem_count )]\n|append[fetch `dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device` \n| lookup sourceField: id, lookupField: affected_id, fields: {problems},\n [fetch events\n| filter event.kind == \"DAVIS_PROBLEM\" | fieldsAdd affected_entity_id = affected_entity_ids[0] | summarize collectDistinct(event.status), by:{display_id, affected_entity_id}, alias:problem_status | filter NOT in(problem_status, \"CLOSED\")| summarize problems = count(), by: {affected_id = affected_entity_id}]\n| fields id, name=entity.name, type=entity.type, lifetime=toString(lifetime), problem_count = if(isNull(problems), 0, else: problems)\n| fieldsRemove id, lifetime, type\n| summarize result = sum(problem_count )]\n| summarize countdown=sum(result)\n| fieldsAdd `Monitoring status` =  if( countdown  == 0 , \"🟢\",else:\"🔴\")\n","davis":{"enabled":false},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"=","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"<","label":"","value":5},{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"≥","label":"","value":10}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"Monitoring status","categoryAxisLabel":"Monitoring status","valueAxis":"result","valueAxisLabel":"result"}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","recordField":"Monitoring status","autoscale":false,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}}}},"39":{"type":"data","title":"Interface desired status","query":"fetch `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_network_interface`\n| fieldsAdd   opStatus, adminStatus\n| filter opStatus == \"down(2)\" and adminStatus == \"up(1)\"\n| summarize updown=count()\n| append [fetch `dt.entity.f5:interface`\n| fieldsAdd  Status,EnabledState\n| filter Status == \"down(2)\" and EnabledState == \"up(1)\"\n| fieldsRename  opStatus=Status,adminStatus=EnabledState\n| summarize updown=count()]\n| append [fetch `dt.entity.palo-alto:interface`\n| fieldsAdd  IFOperatingStatus, InterfaceAdminStatus\n| filter IFOperatingStatus == \"down(2)\" and InterfaceAdminStatus ==\"up(1)\"\n| fieldsRename  opStatus=IFOperatingStatus,adminStatus=InterfaceAdminStatus\n| summarize updown=count()]\n| append [fetch `dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_network_interface`\n| fieldsAdd if_adminstatus,if_operstatus\n| filter if_operstatus == \"down(2)\" and if_adminstatus == \"up(1)\"\n| fieldsRename  opStatus=if_operstatus,adminStatus=if_adminstatus\n| summarize updown=count()]\n| summarize countdown=sum(updown)\n| fieldsAdd `Monitoring status` =  if( countdown == 0 , \"🟢\",else:\"🔴\")","davis":{"enabled":false},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"=","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"<","label":"","value":5},{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"≥","label":"","value":10}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"Monitoring status","categoryAxisLabel":"Monitoring status","valueAxis":"result","valueAxisLabel":"result"}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","recordField":"Monitoring status","autoscale":false,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}}}},"40":{"type":"data","title":"Network devices monitoring health","query":"fetch `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`\n| filter lifetime[end]  <  now() - 5m\n| summarize down=count()\n|append [fetch `dt.entity.f5:instance`\n| filter lifetime[end]  <  now() - 5m\n| summarize down=count()]\n|append [fetch `dt.entity.palo-alto:device`\n| filter lifetime[end]  <  now() - 5m\n| summarize down=count()]\n|append [fetch `dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`\n| filter lifetime[end]  <  now() - 5m\n| summarize down=count()]\n| summarize countdown=sum(down)\n| fieldsAdd `Monitoring status` =  if( countdown == 0 , \"🟢\",else:\"🔴\")","davis":{"enabled":false},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"=","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"<","label":"","value":5},{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"≥","label":"","value":10}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"Monitoring status","categoryAxisLabel":"Monitoring status","valueAxis":"result","valueAxisLabel":"result"}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","recordField":"Monitoring status","autoscale":false,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}}}},"41":{"type":"data","title":"Network devices hardware health","query":"timeseries t_fs=avg( `com.dynatrace.extension.snmp-generic-cisco-device.envmon.fan.state`),by: {`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`,envmon.fan.status,envmon.fan.status.descr}\n| fieldsAdd LastFanState=arraylast(`t_fs`)\n| lookup [fetch  `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`| fields id, system_name],\n    sourceField:`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`,\n    lookupField:id,\n    fields:{ system_name }   \n| filter LastFanState == 1 and isnotnull( envmon.fan.status.descr)\n| filter system_name == \"AT1i-SW-snmptest.dynatrace.org\"\n| filter envmon.fan.status ==  \"critical(3)\"   \n| summarize HHealth=count()\n|append [timeseries t_ps=avg( `com.dynatrace.extension.snmp-generic-cisco-device.power_supply.state`),\nby: {`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`,ps.label, ps.status}\n| fieldsAdd LastPSUState=arraylast(`t_ps`)\n| lookup [fetch  `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`| fields id, system_name],\n    sourceField:`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`,\n    lookupField:id,\n    fields:{ system_name }    \n| filter system_name != \"AT1i-SW-snmptest.dynatrace.org\"\n| filter LastPSUState == 1 and isnotnull(ps.label)\n| filter ps.status ==  \"critical(3)\"   \n| summarize HHealth=count()]\n| summarize critical=sum(HHealth)\n| fieldsAdd `Hardware`=  if(critical==0,  \"🟢\",else: \"🔴\")\n\n","davis":{"enabled":false},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"=","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"<","label":"","value":5},{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"≥","label":"","value":10}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"Monitoring status","categoryAxisLabel":"Monitoring status","valueAxis":"result","valueAxisLabel":"result"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["t_fs"],"leftAxisDimensions":["State"],"fields":[],"values":[]}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","recordField":"Hardware","autoscale":false,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}}}},"42":{"type":"markdown","title":"","content":"##\n## Hardware performance\n##"},"43":{"type":"data","title":" Top devices  memory usage","query":"timeseries t_free=avg(`com.dynatrace.extension.snmp-generic-cisco-device.cpm.cpu.memory.hc.free`),t_used=avg(`com.dynatrace.extension.snmp-generic-cisco-device.cpm.cpu.memory.hc.used`),\nby: `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`\n| lookup [fetch `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device` | fields id, system_name, lifetime[end] ],\n    sourceField:`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`,\n    lookupField:id,\n    fields:{system_name,`lifetime[end]` }\n| fieldsadd `Used Memory (%)` = 100*(t_used[]/(t_free[]+ t_used[]))\n| fieldsRename `DNS name`=system_name\n| fieldsRemove  `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`,t_free,t_used\n\n| append [timeseries t_mem=avg(`com.dynatrace.extension.juniper.generic.routingengine.memory.utilization`),\nby: {`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`}\n| lookup [fetch `dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device` | fields id,  system_name, lifetime[end]],\n    sourceField:`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`,\n    lookupField:id,\n    fields:{system_name,`lifetime[end]`}\n| fieldsRename `DNS name`=system_name, `Used Memory (%)` = t_mem\n| fieldsRemove `dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`]\n\n| append [timeseries t_used=avg(`com.dynatrace.extension.f5.bigip.sys.host.memory.used`),t_free=avg(`com.dynatrace.extension.f5.bigip.sys.host.memory.free`),\nby: {`dt.entity.f5:instance`}\n| lookup [fetch `dt.entity.f5:instance` | fields id, NodeName, lifetime[end]],\n    sourceField:`dt.entity.f5:instance`,\n    lookupField:id,\n    fields:{NodeName,`lifetime[end]` }\n| fieldsadd `Used Memory (%)` = 100*(t_used[]/(t_free[]+ t_used[]))\n| fieldsRename `DNS name`=NodeName\n| fieldsRemove  `dt.entity.f5:instance`,t_used,t_free]\n| sort `Used Memory (%)` desc\n| limit 10","visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device","categoryAxisLabel":"dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device","valueAxis":"CPU (%)","valueAxisLabel":"CPU (%)"},"leftYAxisSettings":{"min":0,"max":100},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["Used Memory (%)"],"leftAxisDimensions":["DNS name","lifetime[end]"],"fields":[],"values":[]}},"singleValue":{"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableLineWrap":true,"enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"unitsOverrides":[{"identifier":"t_cpu","unitCategory":"unspecified","baseUnit":"count","displayUnit":null,"decimals":2,"suffix":"","delimiter":true},{"identifier":"t_upt","unitCategory":"unspecified","baseUnit":"unspecified","displayUnit":null,"decimals":2,"suffix":"","delimiter":true},{"identifier":"Used Memory (%)","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1702394182414}]}},"45":{"type":"data","title":"Juniper routers","query":"timeseries  t_upt=avg(`com.dynatrace.extension.juniper.generic.device.sys.uptime.count`),t_cpu=avg(`com.dynatrace.extension.juniper.generic.routingengine.cpu.utilization`),t_mem=avg(`com.dynatrace.extension.juniper.generic.routingengine.memory.utilization`),\nby: {`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`}\n| lookup [fetch `dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device` | fields id, entity.name, system_name, lifetime[end],entity.type ],\n    sourceField:`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`,\n    lookupField:id,\n    fields:{entity.name,system_name,`lifetime[end]`, entity.type}\n| fieldsAdd avg_cpu=toLong(arrayAvg(`t_cpu`)), avg_mem=arrayAvg(`t_mem`), avg_upt=arrayAvg(`t_upt`)\n| lookup [ timeseries t_in=avg(`com.dynatrace.extension.juniper.generic.if.in.bits`), t_out=avg(`com.dynatrace.extension.juniper.generic.if.out.bits`), by:{ `dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`,`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_network_interface`} | summarize   sum_out = sum(toDouble(t_out)),sum_in = sum(toDouble(t_in)), by: {`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`}],\n    sourceField:`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`,\n      lookupField:`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`,\n    fields:{sum_out, sum_in }  \n| lookup sourceField:`dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`, lookupField: affected_id, fields: {problems},\n [fetch events\n| filter event.kind == \"DAVIS_PROBLEM\" | fieldsAdd affected_entity_id = affected_entity_ids[0] | summarize collectDistinct(event.status), by:{display_id, affected_entity_id}, alias:problem_status | filter NOT in(problem_status, \"CLOSED\")| summarize problems = count(), by: {affected_id = affected_entity_id}]\n| fields Device = system_name, `dt.entity.snmp:com_dynatrace_extension_snmp_generic_juniper_device`, name=entity.name, type=entity.type, lifetime=toString(`lifetime[end]`), problem_count = if(isNull(problems), 0, else: problems), avg_upt, system_name, sum_in, sum_out, avg_mem, avg_cpu\n| fieldsAdd DurSys = toDuration(avg_upt)*10000000\n| fieldsAdd  `OutTraffic` = sum_out, `InTraffic` = sum_in\n| fieldsRename `DNS name`=system_name, `System Up Time` = DurSys ,  `CPU (%)` = avg_cpu, `Free Memory (KB)` = avg_mem, `Problems #` = problem_count\n| fieldsAdd `Monitoring status` =  if( lifetime <  now() - 10m, \"⚠️\",else:\"✅\")\n| fields `DNS name`,  `Monitoring status`, `System Up Time` ,  `Problems #`, `CPU (%)`, `Free Memory (KB)`, `OutTraffic`, `InTraffic`\n| sort `Problems #` desc","visualization":"table","visualizationSettings":{"thresholds":[{"id":1,"field":"Problems #","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"=","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":">","label":"","value":0}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"DNS name","categoryAxisLabel":"DNS name","valueAxis":"CPU (%)","valueAxisLabel":"CPU (%)"}},"singleValue":{"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableLineWrap":true,"enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"DNS name\"]":118,"[\"Monitoring status\"]":174,"[\"System Up Time\"]":152,"[\"Device type\"]":186.56666564941406,"[\"Problems #\"]":122,"[\"CPU (%)\"]":98,"[\"Free Memory (KB)\"]":163,"[\"OutTraffic GB\"]":134,"[\"InTraffic GB\"]":223}},"unitsOverrides":[{"identifier":"t_cpu","unitCategory":"unspecified","baseUnit":"count","displayUnit":null,"decimals":2,"suffix":"","delimiter":true},{"identifier":"t_upt","unitCategory":"unspecified","baseUnit":"unspecified","displayUnit":null,"decimals":2,"suffix":"","delimiter":true},{"identifier":"OutTraffic GB","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1705513710936},{"identifier":"InTraffic","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1705513716585},{"identifier":"OutTraffic","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":0,"suffix":"","delimiter":true,"added":1706543100276}]}},"46":{"type":"data","title":"Cisco routers and switches  Fans state","query":"timeseries t_fs=avg( `com.dynatrace.extension.snmp-generic-cisco-device.envmon.fan.state`),by: {`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`,envmon.fan.status,envmon.fan.status.descr}\n| fieldsAdd LastState=arraylast(`t_fs`)\n| lookup [fetch  `dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`| fields id, system_name],\n    sourceField:`dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device`,\n    lookupField:id,\n    fields:{ system_name }    \n| filter system_name != \"AT1i-SW-snmptest.dynatrace.org\"\n| fieldsRename `DNS name` = system_name \n| fieldsRemove t_fs, timeframe,interval\n| filter LastState == 1\n| fieldsAdd `Fan State`=  if(envmon.fan.status   == \"critical(3)\" , \"🔴\" ,else:\"🟢\")\n| fieldsRename `Fan Description`=`envmon.fan.status.descr`\n| fields `DNS name`,`Fan Description`, `Fan State`\n| sort `Fan State` asc","davis":{"enabled":false},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device","categoryAxisLabel":"dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device","valueAxis":"interval","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["t_fs"],"leftAxisDimensions":["dt.entity.snmp:com_dynatrace_extension_snmp_generic_cisco_device","envmon.fan.status","DNS name","Fan"],"fields":[],"values":[]}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}}}}},"layouts":{"0":{"x":0,"y":19,"w":9,"h":3},"6":{"x":9,"y":22,"w":12,"h":3},"7":{"x":0,"y":0,"w":21,"h":3},"8":{"x":10,"y":48,"w":10,"h":7},"18":{"x":0,"y":27,"w":10,"h":6},"19":{"x":10,"y":27,"w":11,"h":6},"20":{"x":0,"y":39,"w":10,"h":7},"21":{"x":0,"y":48,"w":10,"h":7},"23":{"x":0,"y":33,"w":10,"h":6},"24":{"x":10,"y":33,"w":11,"h":6},"25":{"x":10,"y":7,"w":11,"h":5},"28":{"x":0,"y":25,"w":21,"h":2},"29":{"x":0,"y":7,"w":10,"h":5},"32":{"x":9,"y":19,"w":12,"h":3},"33":{"x":0,"y":46,"w":20,"h":2},"35":{"x":0,"y":17,"w":21,"h":2},"36":{"x":0,"y":12,"w":6,"h":5},"38":{"x":12,"y":3,"w":4,"h":2},"39":{"x":8,"y":3,"w":4,"h":2},"40":{"x":0,"y":3,"w":4,"h":2},"41":{"x":4,"y":3,"w":4,"h":2},"42":{"x":0,"y":5,"w":21,"h":2},"43":{"x":12,"y":12,"w":9,"h":5},"45":{"x":0,"y":22,"w":9,"h":3},"46":{"x":6,"y":12,"w":6,"h":5}},"refreshRate":60000}